<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Praxis der Datenanalyse</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Eine Einführung in moderne Statistik für Praktiker">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="Praxis der Datenanalyse" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/cover.jpg" />
  <meta property="og:description" content="Eine Einführung in moderne Statistik für Praktiker" />
  <meta name="github-repo" content="sebastiansauer/Praxis_der_Datenanalyse" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Praxis der Datenanalyse" />
  
  <meta name="twitter:description" content="Eine Einführung in moderne Statistik für Praktiker" />
  <meta name="twitter:image" content="images/cover.jpg" />

<meta name="author" content="Sebastian Sauer">


<meta name="date" content="2017-02-14">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="daten-aufbereiten.html">
<link rel="next" href="statistisches-modellieren.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Praxis der Datenanalyse</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Vorwort</a></li>
<li class="chapter" data-level="1" data-path="rahmen-teil-1.html"><a href="rahmen-teil-1.html"><i class="fa fa-check"></i><b>1</b> Rahmen - Teil 1</a><ul>
<li class="chapter" data-level="1.1" data-path="rahmen-teil-1.html"><a href="rahmen-teil-1.html#software"><i class="fa fa-check"></i><b>1.1</b> Software</a><ul>
<li class="chapter" data-level="1.1.1" data-path="rahmen-teil-1.html"><a href="rahmen-teil-1.html#r-and-friends-installieren"><i class="fa fa-check"></i><b>1.1.1</b> R and Friends installieren</a></li>
<li class="chapter" data-level="1.1.2" data-path="rahmen-teil-1.html"><a href="rahmen-teil-1.html#hilfe-r-tut-nicht-so-wie-ich-das-will"><i class="fa fa-check"></i><b>1.1.2</b> Hilfe! R tut nicht so wie ich das will</a></li>
<li class="chapter" data-level="1.1.3" data-path="rahmen-teil-1.html"><a href="rahmen-teil-1.html#die-denk--und-gefuhlswelt-von-r"><i class="fa fa-check"></i><b>1.1.3</b> Die Denk- und Gefühlswelt von R</a></li>
<li class="chapter" data-level="1.1.4" data-path="rahmen-teil-1.html"><a href="rahmen-teil-1.html#pakete-installieren---beispiel-dplyr"><i class="fa fa-check"></i><b>1.1.4</b> Pakete installieren - Beispiel <code>dplyr</code></a></li>
<li class="chapter" data-level="1.1.5" data-path="rahmen-teil-1.html"><a href="rahmen-teil-1.html#r-pakete-fur-dieses-buch"><i class="fa fa-check"></i><b>1.1.5</b> R-Pakete für dieses Buch</a></li>
<li class="chapter" data-level="1.1.6" data-path="rahmen-teil-1.html"><a href="rahmen-teil-1.html#datensatze"><i class="fa fa-check"></i><b>1.1.6</b> Datensätze</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="rahmen-teil-1.html"><a href="rahmen-teil-1.html#bildnachweise"><i class="fa fa-check"></i><b>1.2</b> Bildnachweise</a></li>
<li class="chapter" data-level="1.3" data-path="rahmen-teil-1.html"><a href="rahmen-teil-1.html#was-ist-statistik-wozu-ist-sie-gut"><i class="fa fa-check"></i><b>1.3</b> Was ist Statistik? Wozu ist sie gut?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tidy-data-daten-sauber-einlesen.html"><a href="tidy-data-daten-sauber-einlesen.html"><i class="fa fa-check"></i><b>2</b> Tidy Data - Daten sauber einlesen</a><ul>
<li class="chapter" data-level="2.1" data-path="tidy-data-daten-sauber-einlesen.html"><a href="tidy-data-daten-sauber-einlesen.html#daten-in-r-importieren"><i class="fa fa-check"></i><b>2.1</b> Daten in R importieren</a></li>
<li class="chapter" data-level="2.2" data-path="tidy-data-daten-sauber-einlesen.html"><a href="tidy-data-daten-sauber-einlesen.html#normalform-einer-tabelle"><i class="fa fa-check"></i><b>2.2</b> Normalform einer Tabelle</a></li>
<li class="chapter" data-level="2.3" data-path="tidy-data-daten-sauber-einlesen.html"><a href="tidy-data-daten-sauber-einlesen.html#verweise"><i class="fa fa-check"></i><b>2.3</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html"><i class="fa fa-check"></i><b>3</b> Daten aufbereiten</a><ul>
<li class="chapter" data-level="3.1" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#typische-probleme"><i class="fa fa-check"></i><b>3.1</b> Typische Probleme</a></li>
<li class="chapter" data-level="3.2" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#daten-aufbereiten-mit-dplyr"><i class="fa fa-check"></i><b>3.2</b> Daten aufbereiten mit <code>dplyr</code></a><ul>
<li class="chapter" data-level="3.2.1" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#zeilen-filtern-mit-filter"><i class="fa fa-check"></i><b>3.2.1</b> Zeilen filtern mit <code>filter</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#spalten-wahlen-mit-select"><i class="fa fa-check"></i><b>3.2.2</b> Spalten wählen mit <code>select</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#zeilen-sortieren-mit-arrange"><i class="fa fa-check"></i><b>3.2.3</b> Zeilen sortieren mit <code>arrange</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#datensatz-gruppieren-mit-group_by"><i class="fa fa-check"></i><b>3.2.4</b> Datensatz gruppieren mit <code>group_by</code></a></li>
<li class="chapter" data-level="3.2.5" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#eine-spalte-zusammenfassen-mit-summarise"><i class="fa fa-check"></i><b>3.2.5</b> Eine Spalte zusammenfassen mit <code>summarise</code></a></li>
<li class="chapter" data-level="3.2.6" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#zeilen-zahlen-mit-n-und-count"><i class="fa fa-check"></i><b>3.2.6</b> Zeilen zählen mit <code>n</code> und <code>count</code></a></li>
<li class="chapter" data-level="3.2.7" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#die-pfeife"><i class="fa fa-check"></i><b>3.2.7</b> Die Pfeife</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#fallstudie-nycflights13"><i class="fa fa-check"></i><b>3.3</b> Fallstudie <code>nycflights13</code></a></li>
<li class="chapter" data-level="3.4" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#checkliste-zum-datenjudo"><i class="fa fa-check"></i><b>3.4</b> Checkliste zum Datenjudo</a><ul>
<li class="chapter" data-level="3.4.1" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#auf-fehlende-werte-prufen"><i class="fa fa-check"></i><b>3.4.1</b> Auf fehlende Werte prüfen*</a></li>
<li class="chapter" data-level="3.4.2" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#falle-mit-fehlenden-werte-loschen"><i class="fa fa-check"></i><b>3.4.2</b> Fälle mit fehlenden Werte löschen</a></li>
<li class="chapter" data-level="3.4.3" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#fehlende-werte-ggf.-ersetzen"><i class="fa fa-check"></i><b>3.4.3</b> Fehlende Werte ggf. ersetzen</a></li>
<li class="chapter" data-level="3.4.4" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#nach-fehlern-suchen"><i class="fa fa-check"></i><b>3.4.4</b> Nach Fehlern suchen</a></li>
<li class="chapter" data-level="3.4.5" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#ausreiser-identifizieren"><i class="fa fa-check"></i><b>3.4.5</b> Ausreiser identifizieren</a></li>
<li class="chapter" data-level="3.4.6" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#hochkorrelierte-variablen-finden"><i class="fa fa-check"></i><b>3.4.6</b> Hochkorrelierte Variablen finden</a></li>
<li class="chapter" data-level="3.4.7" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#z-standardisieren"><i class="fa fa-check"></i><b>3.4.7</b> z-Standardisieren</a></li>
<li class="chapter" data-level="3.4.8" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#quasi-konstante-finden"><i class="fa fa-check"></i><b>3.4.8</b> Quasi-Konstante finden</a></li>
<li class="chapter" data-level="3.4.9" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#auf-normalverteilung-prufen"><i class="fa fa-check"></i><b>3.4.9</b> Auf Normalverteilung prüfen</a></li>
<li class="chapter" data-level="3.4.10" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#mittelwerte-pro-zeile-berechnen"><i class="fa fa-check"></i><b>3.4.10</b> Mittelwerte pro Zeile berechnen</a></li>
<li class="chapter" data-level="3.4.11" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#u"><i class="fa fa-check"></i><b>3.4.11</b> U</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="daten-aufbereiten.html"><a href="daten-aufbereiten.html#verweise-1"><i class="fa fa-check"></i><b>3.5</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html"><i class="fa fa-check"></i><b>4</b> Daten visualisieren</a><ul>
<li class="chapter" data-level="4.1" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#haufige-arten-von-diagrammen"><i class="fa fa-check"></i><b>4.1</b> Häufige Arten von Diagrammen</a><ul>
<li class="chapter" data-level="4.1.1" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#eine-kontinuierliche-variable"><i class="fa fa-check"></i><b>4.1.1</b> Eine kontinuierliche Variable</a></li>
<li class="chapter" data-level="4.1.2" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#zwei-kontinuierliche-variablen"><i class="fa fa-check"></i><b>4.1.2</b> Zwei kontinuierliche Variablen</a></li>
<li class="chapter" data-level="4.1.3" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#eine-diskrete-variable"><i class="fa fa-check"></i><b>4.1.3</b> Eine diskrete Variable</a></li>
<li class="chapter" data-level="4.1.4" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#zwei-diskrete-variablen"><i class="fa fa-check"></i><b>4.1.4</b> Zwei diskrete Variablen</a></li>
<li class="chapter" data-level="4.1.5" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#zusammenfassungen-zeigen"><i class="fa fa-check"></i><b>4.1.5</b> Zusammenfassungen zeigen</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#farblehre"><i class="fa fa-check"></i><b>4.2</b> Farblehre</a></li>
<li class="chapter" data-level="4.3" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#prinzipien"><i class="fa fa-check"></i><b>4.3</b> Prinzipien</a></li>
<li class="chapter" data-level="4.4" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#erweiterungen-fur-ggplot"><i class="fa fa-check"></i><b>4.4</b> Erweiterungen für ggplot</a><ul>
<li class="chapter" data-level="4.4.1" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#ggpairs"><i class="fa fa-check"></i><b>4.4.1</b> ggpairs</a></li>
<li class="chapter" data-level="4.4.2" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#weitere"><i class="fa fa-check"></i><b>4.4.2</b> Weitere</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#fallstudie"><i class="fa fa-check"></i><b>4.5</b> Fallstudie</a><ul>
<li class="chapter" data-level="4.5.1" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#daten-einlesen"><i class="fa fa-check"></i><b>4.5.1</b> Daten einlesen</a></li>
<li class="chapter" data-level="4.5.2" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#daten-umstellen"><i class="fa fa-check"></i><b>4.5.2</b> Daten umstellen</a></li>
<li class="chapter" data-level="4.5.3" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#diagramme-fur-anteile"><i class="fa fa-check"></i><b>4.5.3</b> Diagramme für Anteile</a></li>
<li class="chapter" data-level="4.5.4" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#um-90-drehen"><i class="fa fa-check"></i><b>4.5.4</b> Um 90° drehen</a></li>
<li class="chapter" data-level="4.5.5" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#text-labels-fur-die-items"><i class="fa fa-check"></i><b>4.5.5</b> Text-Labels für die Items</a></li>
<li class="chapter" data-level="4.5.6" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#diagramm-mit-haufigkeiten"><i class="fa fa-check"></i><b>4.5.6</b> Diagramm mit Häufigkeiten</a></li>
<li class="chapter" data-level="4.5.7" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#farbschema"><i class="fa fa-check"></i><b>4.5.7</b> Farbschema</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#verweise-2"><i class="fa fa-check"></i><b>4.6</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="statistisches-modellieren.html"><a href="statistisches-modellieren.html"><i class="fa fa-check"></i><b>5</b> Statistisches Modellieren</a><ul>
<li class="chapter" data-level="5.1" data-path="statistisches-modellieren.html"><a href="statistisches-modellieren.html#Modellieren"><i class="fa fa-check"></i><b>5.1</b> Was ist ein Modell? Was ist Modellieren?</a><ul>
<li class="chapter" data-level="5.1.1" data-path="statistisches-modellieren.html"><a href="statistisches-modellieren.html#ziele-des-modellierens"><i class="fa fa-check"></i><b>5.1.1</b> Ziele des Modellierens</a></li>
<li class="chapter" data-level="5.1.2" data-path="statistisches-modellieren.html"><a href="statistisches-modellieren.html#parametrische-modelle-vs.non-parametrische-modelle"><i class="fa fa-check"></i><b>5.1.2</b> Parametrische Modelle vs. non-parametrische Modelle</a></li>
<li class="chapter" data-level="5.1.3" data-path="statistisches-modellieren.html"><a href="statistisches-modellieren.html#wann-welches-modell"><i class="fa fa-check"></i><b>5.1.3</b> Wann welches Modell?</a></li>
<li class="chapter" data-level="5.1.4" data-path="statistisches-modellieren.html"><a href="statistisches-modellieren.html#einfache-vs.komplexe-modelle"><i class="fa fa-check"></i><b>5.1.4</b> Einfache vs. komplexe Modelle</a></li>
<li class="chapter" data-level="5.1.5" data-path="statistisches-modellieren.html"><a href="statistisches-modellieren.html#training--vs.test-stichprobe"><i class="fa fa-check"></i><b>5.1.5</b> Training- vs. Test-Stichprobe</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="statistisches-modellieren.html"><a href="statistisches-modellieren.html#der-p-wert"><i class="fa fa-check"></i><b>5.2</b> Der p-Wert</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html"><i class="fa fa-check"></i><b>6</b> Geleitetes Modellieren</a><ul>
<li class="chapter" data-level="6.1" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#lineare-regression"><i class="fa fa-check"></i><b>6.1</b> Lineare Regression</a><ul>
<li class="chapter" data-level="6.1.1" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#eine-kurze-geschichte-der-linearen-regression"><i class="fa fa-check"></i><b>6.1.1</b> Eine kurze Geschichte der linearen Regression</a></li>
<li class="chapter" data-level="6.1.2" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#die-lineare-regression-als-schweizer-taschenmesser"><i class="fa fa-check"></i><b>6.1.2</b> Die lineare Regression als Schweizer Taschenmesser</a></li>
<li class="chapter" data-level="6.1.3" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#interaktion-moderation"><i class="fa fa-check"></i><b>6.1.3</b> Interaktion/ Moderation</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#klassifizierende-regression"><i class="fa fa-check"></i><b>6.2</b> Klassifizierende Regression</a></li>
<li class="chapter" data-level="6.3" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#penalisierende-regression"><i class="fa fa-check"></i><b>6.3</b> Penalisierende Regression</a></li>
<li class="chapter" data-level="6.4" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#baumbasierte-verfahre"><i class="fa fa-check"></i><b>6.4</b> Baumbasierte Verfahre</a></li>
<li class="chapter" data-level="6.5" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#ausblick"><i class="fa fa-check"></i><b>6.5</b> Ausblick</a></li>
<li class="chapter" data-level="6.6" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#fallstudie-uberleben-auf-der-titanic"><i class="fa fa-check"></i><b>6.6</b> Fallstudie: Überleben auf der Titanic</a><ul>
<li class="chapter" data-level="6.6.1" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#daten-und-pakete-laden"><i class="fa fa-check"></i><b>6.6.1</b> Daten und Pakete laden</a></li>
<li class="chapter" data-level="6.6.2" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#erster-blick"><i class="fa fa-check"></i><b>6.6.2</b> Erster Blick</a></li>
<li class="chapter" data-level="6.6.3" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#welche-variablen-sind-interessant"><i class="fa fa-check"></i><b>6.6.3</b> Welche Variablen sind interessant?</a></li>
<li class="chapter" data-level="6.6.4" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#univariate-haufigkeiten"><i class="fa fa-check"></i><b>6.6.4</b> Univariate Häufigkeiten</a></li>
<li class="chapter" data-level="6.6.5" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#bivariate-haufigkeiten"><i class="fa fa-check"></i><b>6.6.5</b> Bivariate Häufigkeiten</a></li>
<li class="chapter" data-level="6.6.6" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#signifikanztest"><i class="fa fa-check"></i><b>6.6.6</b> Signifikanztest</a></li>
<li class="chapter" data-level="6.6.7" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#effektstarke"><i class="fa fa-check"></i><b>6.6.7</b> Effektstärke</a></li>
<li class="chapter" data-level="6.6.8" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#logististische-regression"><i class="fa fa-check"></i><b>6.6.8</b> Logististische Regression</a></li>
<li class="chapter" data-level="6.6.9" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#effektstarken-visualieren"><i class="fa fa-check"></i><b>6.6.9</b> Effektstärken visualieren</a></li>
<li class="chapter" data-level="6.6.10" data-path="geleitetes-modellieren.html"><a href="geleitetes-modellieren.html#fazit"><i class="fa fa-check"></i><b>6.6.10</b> Fazit</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ungeleitetes-modellieren.html"><a href="ungeleitetes-modellieren.html"><i class="fa fa-check"></i><b>7</b> Ungeleitetes Modellieren</a><ul>
<li class="chapter" data-level="7.1" data-path="ungeleitetes-modellieren.html"><a href="ungeleitetes-modellieren.html#clusteranalyse"><i class="fa fa-check"></i><b>7.1</b> Clusteranalyse</a></li>
<li class="chapter" data-level="7.2" data-path="ungeleitetes-modellieren.html"><a href="ungeleitetes-modellieren.html#nachste-nachbarn-analyse"><i class="fa fa-check"></i><b>7.2</b> Nächste-Nachbarn-Analyse</a></li>
<li class="chapter" data-level="7.3" data-path="ungeleitetes-modellieren.html"><a href="ungeleitetes-modellieren.html#hauptkomponenten-analyse"><i class="fa fa-check"></i><b>7.3</b> Hauptkomponenten-Analyse</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="textmining.html"><a href="textmining.html"><i class="fa fa-check"></i><b>8</b> Textmining</a><ul>
<li class="chapter" data-level="8.1" data-path="textmining.html"><a href="textmining.html#einfuhrung"><i class="fa fa-check"></i><b>8.1</b> Einführung</a><ul>
<li class="chapter" data-level="8.1.1" data-path="textmining.html"><a href="textmining.html#grundbegriffe"><i class="fa fa-check"></i><b>8.1.1</b> Grundbegriffe</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="textmining.html"><a href="textmining.html#grundlegende-analyse"><i class="fa fa-check"></i><b>8.2</b> Grundlegende Analyse</a><ul>
<li class="chapter" data-level="8.2.1" data-path="textmining.html"><a href="textmining.html#tidy-text-dataframes"><i class="fa fa-check"></i><b>8.2.1</b> Tidy Text Dataframes</a></li>
<li class="chapter" data-level="8.2.2" data-path="textmining.html"><a href="textmining.html#text-daten-einlesen"><i class="fa fa-check"></i><b>8.2.2</b> Text-Daten einlesen</a></li>
<li class="chapter" data-level="8.2.3" data-path="textmining.html"><a href="textmining.html#worthaufigkeiten-auszahlen"><i class="fa fa-check"></i><b>8.2.3</b> Worthäufigkeiten auszählen</a></li>
<li class="chapter" data-level="8.2.4" data-path="textmining.html"><a href="textmining.html#visualisierung"><i class="fa fa-check"></i><b>8.2.4</b> Visualisierung</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="textmining.html"><a href="textmining.html#sentiment-analyse"><i class="fa fa-check"></i><b>8.3</b> Sentiment-Analyse</a><ul>
<li class="chapter" data-level="8.3.1" data-path="textmining.html"><a href="textmining.html#ungewichtete-sentiment-analyse"><i class="fa fa-check"></i><b>8.3.1</b> Ungewichtete Sentiment-Analyse</a></li>
<li class="chapter" data-level="8.3.2" data-path="textmining.html"><a href="textmining.html#anzahl-der-unterschiedlichen-negativen-bzw.-positiven-worter"><i class="fa fa-check"></i><b>8.3.2</b> Anzahl der unterschiedlichen negativen bzw. positiven Wörter</a></li>
<li class="chapter" data-level="8.3.3" data-path="textmining.html"><a href="textmining.html#gewichtete-sentiment-analyse"><i class="fa fa-check"></i><b>8.3.3</b> Gewichtete Sentiment-Analyse</a></li>
<li class="chapter" data-level="8.3.4" data-path="textmining.html"><a href="textmining.html#tokens-mit-den-extremsten-sentimentwerten"><i class="fa fa-check"></i><b>8.3.4</b> Tokens mit den extremsten Sentimentwerten</a></li>
<li class="chapter" data-level="8.3.5" data-path="textmining.html"><a href="textmining.html#relativer-sentiments-wert"><i class="fa fa-check"></i><b>8.3.5</b> Relativer Sentiments-Wert</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="textmining.html"><a href="textmining.html#verknupfung-mit-anderen-variablen"><i class="fa fa-check"></i><b>8.4</b> Verknüpfung mit anderen Variablen</a></li>
<li class="chapter" data-level="8.5" data-path="textmining.html"><a href="textmining.html#vertiefung"><i class="fa fa-check"></i><b>8.5</b> Vertiefung</a><ul>
<li class="chapter" data-level="8.5.1" data-path="textmining.html"><a href="textmining.html#erstellung-des-sentiment-lexikons"><i class="fa fa-check"></i><b>8.5.1</b> Erstellung des Sentiment-Lexikons</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ergebnisse-kommunizieren.html"><a href="ergebnisse-kommunizieren.html"><i class="fa fa-check"></i><b>9</b> Ergebnisse kommunizieren</a><ul>
<li class="chapter" data-level="9.1" data-path="ergebnisse-kommunizieren.html"><a href="ergebnisse-kommunizieren.html#markdown-und-rmarkdown"><i class="fa fa-check"></i><b>9.1</b> Markdown und RMarkdown</a></li>
<li class="chapter" data-level="9.2" data-path="ergebnisse-kommunizieren.html"><a href="ergebnisse-kommunizieren.html#reproduzierbarkeit"><i class="fa fa-check"></i><b>9.2</b> Reproduzierbarkeit</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="rahmen-teil-2.html"><a href="rahmen-teil-2.html"><i class="fa fa-check"></i><b>10</b> Rahmen - Teil 2</a><ul>
<li class="chapter" data-level="10.1" data-path="rahmen-teil-2.html"><a href="rahmen-teil-2.html#trends"><i class="fa fa-check"></i><b>10.1</b> Trends</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Praxis der Datenanalyse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="daten-visualisieren" class="section level1">
<h1><span class="header-section-number">Kapitel 4</span> Daten visualisieren</h1>
<p>Ein Bild sagt bekanntlich mehr als 1000 Worte. Schauen wir uns zur Verdeutlichung das berühmte Beispiel von Anscombe<a href="#fn20" class="footnoteRef" id="fnref20"><sup>20</sup></a> an. Es geht hier um vier Datensätze mit zwei Variablen (Spalten; X und Y). Offenbar sind die Datensätze praktisch identisch: Alle X haben den gleichen Mittelwert und die gleiche Varianz; dasselbe gilt für die Y. Die Korrelation zwischen X und Y ist in allen vier Datensätzen gleich. Allerdings erzählt eine Visualisierung der vier Datensätze eine ganz andere Geschichte.</p>
<p><img src="images/anscombe.pdf" width="70%" style="display: block; margin: auto;" /></p>
<p>Offenbar “passieren” in den vier Datensätzen gänzlich unterschiedliche Dinge. Dies haben die Statistiken nicht aufgedeckt; erst die Visualisierung erhellte uns… Kurz: Die Visualisierung ist ein unverzichtbares Werkzeug, um zu verstehen, was in einem Datensatz (und damit in der zugrundeliengenden “Natur”) passiert.</p>
<p>Es gibt viele Möglichkeiten, Daten zu visualieren (in R). Wir werden uns hier auf einen Weg bzw. ein Paket konzentrieren, der komfortabel, aber mächtig ist und gut zum Prinzip des Durchpfeifens passt: <code>ggplot2</code>.</p>
<p>Laden wir dazu den Datensatz <code>nycflights::flights</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(flights, <span class="dt">package =</span> <span class="st">&quot;nycflights13&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)  <span class="co"># muss installiert sein</span>

<span class="kw">qplot</span>(<span class="dt">x =</span> carrier, <span class="dt">y =</span> arr_delay, <span class="dt">geom =</span> <span class="st">&quot;boxplot&quot;</span>, <span class="dt">data =</span> flights)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-5-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Offenbar gibt es viele Extremwerte, was die Verspätung betrifft. Das erscheint mir nicht unplausibel (Schneesturm im Winter, Flugzeug verschwunden…). Vor dem Hintergrund der Extremwerte erscheinen die mittleren Verspätungen (Mediane) in den Boxplots als ähnlich. Vielleicht ist der Unterschied zwischen den Monaten ausgeprägter?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qplot</span>(<span class="dt">x =</span> <span class="kw">factor</span>(month), <span class="dt">y =</span> arr_delay, <span class="dt">geom =</span> <span class="st">&quot;boxplot&quot;</span>, <span class="dt">data =</span> flights)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-6-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Kaum Unterschied; das spricht gegen die Schneesturm-Idee als Grund für Verspätung. Aber schauen wir uns zuerst die Syntax von <code>qplot</code> näher an. “q” in <code>qplot</code> steht für “quick”. Tatsächlich hat <code>qplot</code> einen großen Bruder, <code>ggplot</code><a href="#fn21" class="footnoteRef" id="fnref21"><sup>21</sup></a>, der deutlich mehr Funktionen aufweist - und daher auch die umfangreichere (=komplexere) Syntax. Fangen wir mit <code>qplot</code> an.</p>
<p>Diese Syntax des letzten Beispiels ist recht einfach, nämlich:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qplot</span> (<span class="dt">x =</span> X_Achse, <span class="dt">y =</span> Y_Achse, <span class="dt">data =</span> mein_dataframe, <span class="dt">geom =</span> <span class="st">&quot;ein_geom&quot;</span>)</code></pre></div>
<p>Wir definieren mit <code>x</code>, welche Variable der X-Achse des Diagramms zugewiesen werden soll, z.B. <code>month</code>; analog mit Y-Achse. Mit <code>data</code> sagen wir, in welchem Dataframe die Spalten “wohnen” und als “geom” ist die Art des statistischen “<em>geom</em>etrischen Objects” gemeint, also Punkte, Linien, Boxplots, Balken…</p>
<div id="haufige-arten-von-diagrammen" class="section level2">
<h2><span class="header-section-number">4.1</span> Häufige Arten von Diagrammen</h2>
<p>Unter den vielen Arten von Diagrammen und vielen Arten, diese zu klassifizieren greifen wir uns ein paar häufige Diagramme heraus und schauen uns diese der Reihe nach an.</p>
<div id="eine-kontinuierliche-variable" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Eine kontinuierliche Variable</h3>
<p>Schauen wir uns die Verteilung der Schuhgrößen von Studierenden an.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/wo_men.csv&quot;</span>)

<span class="kw">qplot</span>(<span class="dt">x =</span> shoe_size, <span class="dt">data =</span> wo_men)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-8-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Weisen wir nur der X-Achse (aber nicht der Y-Achse) eine kontinuierliche Variable zu, so wählt <code>ggplot2</code> automatisch als Geom automatisch ein Histogramm; wir müssen daher nicht explizieren, dass wir ein Histogramm als Geom wünschen (aber wir könnten es hinzufügen). Alternativ wäre ein Dichtediagramm hier von Interesse:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># qplot(x = shoe_size, data = wo_men)  wie oben</span>

<span class="kw">qplot</span>(<span class="dt">x =</span> shoe_size, <span class="dt">data =</span> wo_men, <span class="dt">geom =</span> <span class="st">&quot;density&quot;</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-9-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Was man sich merken muss, ist, dass hier nur das Geom mit Anführungsstrichen zu benennen ist, die übrigen Parameter <em>ohne</em>.</p>
<p>Vielleicht wäre es noch schön, beide Geome zu kombinieren in einem Diagramm. Das ist etwas komplizierter; wir müssen zum großen Bruder <code>ggplot</code> umsteigen, da <code>qplot</code> nicht diese Funktionen anbietet.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> wo_men) +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> shoe_size) +
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">y =</span> ..density..), <span class="dt">alpha =</span> .<span class="dv">7</span>) +
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-10-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Zuerst haben wir mit dem Parameter <code>data</code> den Dateframe benannt. <code>aes</code> definiert, welche Variablen welchen Achsen (oder auch z.B. Füllfarben) zugewiesen werden. Hier sagen wir, dass die Schuhgröße auf X-Achse stehen soll. Das <code>+</code>-Zeichen trennt die einzelnen Bestandteile des <code>ggplot</code>-Aufrufs voneinander. Als nächstes sagen wir, dass wir gerne ein Histogram hätten: <code>geom_histogram</code>. Dabei soll aber nicht wie gewöhnlich auf der X-Achse die Häufigkeit stehen, sondern die Dichte. <code>ggplot</code> berechnet selbständig die Dichte und nennt diese Variabl <code>..density..</code>; die vielen Punkte sollen wohl klar machen, dass es sich nicht um eine “normale” Variable aus dem eigenen Dateframe handelt, sondern um eine “interne” Varialbe von <code>ggplot</code> - die wir aber nichtsdestotrotz verwenden können. <code>alpha</code> bestimmt die “Durchsichtigkeit” eines Geoms; spielen Sie mal etwas damit herum. Schließlich malen wir noch ein blaues Dichtediagramm <em>übe</em>r das Histogramm.</p>
<p>Wünsche sind ein Fass ohne Boden… Wäre es nicht schön, ein Diagramm für Männer und eines für Frauen zu haben, um die Verteilungen vergleichen zu können?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qplot</span>(<span class="dt">x =</span> shoe_size, <span class="dt">data =</span> wo_men, <span class="dt">geom =</span> <span class="st">&quot;density&quot;</span>, <span class="dt">color =</span> sex)
<span class="kw">qplot</span>(<span class="dt">x =</span> shoe_size, <span class="dt">data =</span> wo_men, <span class="dt">geom =</span> <span class="st">&quot;density&quot;</span>, <span class="dt">fill =</span> sex, <span class="dt">alpha =</span> <span class="kw">I</span>(.<span class="dv">7</span>))</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-11-1.png" width="70%" style="display: block; margin: auto;" /><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-11-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Hier sollten vielleicht noch die Extremwerte entfernt werden, um den Blick auf das Gros der Werte nicht zu verstellen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
wo_men %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(shoe_size &lt;=<span class="st"> </span><span class="dv">47</span>) -&gt;<span class="st"> </span>wo_men2

<span class="kw">qplot</span>(<span class="dt">x =</span> shoe_size, <span class="dt">data =</span> wo_men2, <span class="dt">geom =</span> <span class="st">&quot;density&quot;</span>, <span class="dt">fill =</span> sex, <span class="dt">alpha =</span> <span class="kw">I</span>(.<span class="dv">7</span>))</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-12-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Besser. Man kann das Durchpfeifen auch bis zu <code>qplot</code> weiterführen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(shoe_size &lt;=<span class="st"> </span><span class="dv">47</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">qplot</span>(<span class="dt">x =</span> shoe_size, <span class="dt">data =</span> ., <span class="dt">geom =</span> <span class="st">&quot;density&quot;</span>, <span class="dt">fill =</span> sex, <span class="dt">alpha =</span> <span class="kw">I</span>(.<span class="dv">7</span>))</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-13-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Die Pfeife versucht im Standard, das Endprodukt des lezten Arbeitsschritts an den <em>ersten</em> Parameter des nächsten Befehls weiterzugeben. Ein kurzer Blick in die Hilfe von <code>qplot</code> zeigt, dass der erste Parameter nicht <code>data</code> ist, sondern <code>x</code>. Daher müssen wir explizit sagen, an welchen Parameter wir das Endprodukt des lezten Arbeitsschritts geben wollen. Netterweise müssen wir dafür nicht viel tippen: Mit einem schlichten Punkt <code>.</code> können wir sagen “nimm den Dataframe, so wie er vom letzten Arbeitsschritt ausgegeben wurde”.</p>
<p>Mit <code>fill = sex</code> sagen wir <code>qplot</code>, dass er für Männer und Frauen jeweils ein Dichtediagramm erzeugen soll; jedem Dichtediagramm wird dabei eine Farbe zugewiesen (die uns <code>ggplot2</code> im Standard voraussucht). Mit anderen Worten: Die Werte von <code>sex</code> werden der Füllfarbe der Histogramme zugeordnet. Anstelle der Füllfarbe hätten wir auch die Linienfarbe verwenden können; die Syntax wäre dann: <code>color = sex</code>.</p>
</div>
<div id="zwei-kontinuierliche-variablen" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Zwei kontinuierliche Variablen</h3>
<p>Ein Streudiagramm ist die klassiche Art, zwei metrische Variablen darzustellen. Das ist mit <code>qplot</code> einfach:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qplot</span>(<span class="dt">x =</span> height, <span class="dt">y =</span> shoe_size, <span class="dt">data =</span> wo_men)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-14-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Wir weisen wieder der X-Achse und der Y-Achse eine Variable zu; handelt es sich in beiden Fällen um Zahlen, so wählt <code>ggplot2</code> automatisch ein Streudiagramm - d.h. Punkte als Geom (<code>geom = &quot;point&quot;</code>). Wir sollten aber noch die Extremwerte herausnehmen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(height &gt;<span class="st"> </span><span class="dv">150</span>, height &lt;<span class="st"> </span><span class="dv">210</span>, shoe_size &lt;<span class="st"> </span><span class="dv">55</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">qplot</span>(<span class="dt">x =</span> height, <span class="dt">y =</span> shoe_size, <span class="dt">data =</span> .)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-15-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Der Trend ist deutlich erkennbar: Je größer die Person, desto länger die Füß´. Zeichnen wir noch eine Trendgerade ein.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(height &gt;<span class="st"> </span><span class="dv">150</span>, height &lt;<span class="st"> </span><span class="dv">210</span>, shoe_size &lt;<span class="st"> </span><span class="dv">55</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">qplot</span>(<span class="dt">x =</span> height, <span class="dt">y =</span> shoe_size, <span class="dt">data =</span> .) +
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-16-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Synonym könnten wir auch schreiben:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(height &gt;<span class="st"> </span><span class="dv">150</span>, height &lt;<span class="st"> </span><span class="dv">210</span>, shoe_size &lt;<span class="st"> </span><span class="dv">55</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>() +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> height, <span class="dt">y =</span> shoe_size) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>)</code></pre></div>
<p>Da <code>ggplot</code> als <em>ersten</em> Parameter die Daten erwartet, kann die Pfeife hier problemlos durchgereicht werden. <em>Innerhalb</em> eines <code>ggplot</code>-Aufrufs werden die einzelen Teile durch ein Pluszeichen <code>+</code> voneinander getrennt. Nachdem wir den Dataframe benannt haben, definieren wir die Zuweisung der Variablen zu den Achsen mit <code>aes</code> (“aes” wie “aesthetics”, also das “Sichtbare” eines Diagramms, die Achsen etc., werden definiert). Ein “Smooth-Geom” ist eine Linie, die sich schön an die Punkte anschmiegt, in diesem Falls als Gerade (lineares Modell, <code>lm</code>).</p>
<p>Wenn man dies verdaut hat, wächst der Hunger nach einer Aufteilung in Gruppen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(height &gt;<span class="st"> </span><span class="dv">150</span>, height &lt;<span class="st"> </span><span class="dv">210</span>, shoe_size &lt;<span class="st"> </span><span class="dv">55</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">qplot</span>(<span class="dt">x =</span> height, <span class="dt">y =</span> shoe_size, <span class="dt">color =</span> sex, <span class="dt">data =</span> .)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-18-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Mit <code>color = sex</code> sagen wir, dass die Linienfarbe (der Punkte) entsprechend der Stufen von <code>sex</code> eingefärbt werden sollen. Die genaue Farbwahl übernimmt <code>ggplot2</code> für uns.</p>
</div>
<div id="eine-diskrete-variable" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Eine diskrete Variable</h3>
<p>Bei diskreten Variablen, vor allem nominalen Variablen, geht es in der Regel darum, Häufigkeiten auszuzählen. Wie viele Männer und Frauen sind in dem Datensatz?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qplot</span>(<span class="dt">x =</span> sex, <span class="dt">data =</span> wo_men)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-19-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Falls nur die X-Achse definiert ist und dort eine Faktorvariable oder eine Text-Variable steht, dann nimmt <code>qplot</code> automatisch ein Balkendiagramm als Geom.</p>
<p>Entfernen wir vorher noch die fehlenden Werte:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">na.omit</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">qplot</span>(<span class="dt">x =</span> sex, <span class="dt">data =</span> .)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-20-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Wir könnten uns jetzt die Frage stellen, wie viele kleine und viele große Menschen es bei Frauen und bei den Männern gibt. Dazu müssen wir zuerst eine Variable wie “Größe gruppiert” erstellen mit zwei Werten: “klein” und “groß”. Nennen wir sie <code>groesse_gruppe</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(car)
wo_men$groesse_gruppe &lt;-<span class="st"> </span>car::<span class="kw">recode</span>(wo_men$height, <span class="st">&quot;lo:175 = &#39;klein&#39;; else = &#39;gross&#39;&quot;</span>)

wo_men %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(height &gt;<span class="st"> </span><span class="dv">150</span>, height &lt;<span class="st"> </span><span class="dv">210</span>, shoe_size &lt;<span class="st"> </span><span class="dv">55</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span>na.omit -&gt;<span class="st"> </span>wo_men2
  
<span class="kw">qplot</span>(<span class="dt">x =</span> sex, <span class="dt">fill =</span> groesse_gruppe, <span class="dt">data =</span> wo_men2)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-21-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>In Worten sagt der <code>recode</code>-Befehl hier in etwa: “Kodiere <code>wo_men$height</code> um, und zwar vom kleinsten (<code>lo</code>) Wert bis 170 soll den Wert <code>klein</code> bekommen, ansonsten bekommt eine Größe den Wert <code>gross</code>”.</p>
<p>Hier haben wir <code>qplot</code> gesagt, dass der die Balken entsprechend der Häufigkeit von <code>groesse_gruppe</code> füllen soll. Und bei den Frauen sind bei dieser Variablen die Wete <code>klein</code> häufig; bei den Männern hingegen die Werte <code>gross</code>.</p>
<p>Schön wäre noch, wenn die Balken Prozentwerte angeben würden. Das geht mit <code>qplot</code> (so) nicht; wir schwenken auf <code>ggplot</code> um<a href="#fn22" class="footnoteRef" id="fnref22"><sup>22</sup></a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men2 %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>() +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> sex, <span class="dt">fill =</span> groesse_gruppe) +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-22-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Die einzige Änderung in den Parametern ist <code>position = &quot;fill&quot;</code>. Dieser Parameter weist <code>ggplot</code> an, die Positionierung der Balken auf die Darstellung von Anteilen auszulegen. Damit haben alle Balken die gleiche Höhe, nämlich 100% (1). Aber die “Füllung” der Balken schwankt je nach der Häufigkeit der Werte von <code>groesse_gruppe</code> pro Balken (d.h. pro Wert von <code>sex</code>).</p>
</div>
<div id="zwei-diskrete-variablen" class="section level3">
<h3><span class="header-section-number">4.1.4</span> Zwei diskrete Variablen</h3>
<p>Arbeitet man mit nominalen Variablen, so sind Kontingenztabellen Täglich Brot. Z.B.: Welche Produkte wurden wie häufig an welchem Standort verkauft? Wie ist die Verteilung von Alkoholkonsum und Körperform bei Menschen einer Single-Börse. Bleiben wir bei letztem Beispiel.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(profiles, <span class="dt">package =</span> <span class="st">&quot;okcupiddata&quot;</span>)

profiles %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">count</span>(drinks, body_type) %&gt;%<span class="st"> </span>
<span class="st">  </span>ggplot +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> drinks, <span class="dt">y =</span> body_type, <span class="dt">fill =</span> n) +
<span class="st">  </span><span class="kw">geom_tile</span>() +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>))</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-23-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Was haben wir gemacht? Also:</p>

<div class="rmdpseudocode">
<p>Nehme den Datensatz “profiles” UND DANN<br />
Zähle die Kombinationen von “drinks” und “body_type” UND DANN<br />
Erstelle ein ggplot-Plot UND DANN<br />
Weise der X-Achse “drinks” zu, der Y-Achse “body_type” und der Füllfarbe “n” UND DANN<br />
Male Fliesen UND DANN<br />
Passe das Thema so an, dass der Winkel für Text der X-Achse auf 90 Grad steht.</p>
</div>
<p></p>
<p>Was sofort ins Auge sticht, ist dass “soziales Trinken”, nennen wir es mal so, am häfigsten ist, unabhängig von der Körperformm. Ansonsten scheinen die Zusammenhäng nicht sehr stark zu sein.</p>
</div>
<div id="zusammenfassungen-zeigen" class="section level3">
<h3><span class="header-section-number">4.1.5</span> Zusammenfassungen zeigen</h3>
<p>Manchmal möchten wir <em>nicht</em> die Rohwerte einer Variablen darstellen, sondern z.B. die Mittelwerte pro Gruppe. Mittelwerte sind eine bestimmte <em>Zusammenfassung</em> einer Spalte; also fassen wir zuerst die Körpergröße zum Mittelwert zusammen - gruppiert nach Geschlecht.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men2 %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(sex) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Groesse_MW =</span> <span class="kw">mean</span>(height)) -&gt;<span class="st"> </span>wo_men3

wo_men3
<span class="co">#&gt; # A tibble: 2 × 2</span>
<span class="co">#&gt;      sex Groesse_MW</span>
<span class="co">#&gt;   &lt;fctr&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt; 1    man        183</span>
<span class="co">#&gt; 2  woman        167</span></code></pre></div>
<p>Diese Tabelle schieben wir jetzt in <code>ggplot2</code>; natürlich hätten wir das gleich in einem Rutsch durchpfeifen können.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men3 %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">qplot</span>(<span class="dt">x =</span> sex, <span class="dt">y =</span> Groesse_MW, <span class="dt">data =</span> .)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-25-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Das Diagramm besticht nicht durch die Tiefe und Detaillierung. Wenn wir noch zusätzlich die Mittelwerte nach <code>Groesse_Gruppe</code> ausweisen, wird das noch überschaubar bleiben.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wo_men2 %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(sex, groesse_gruppe) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Groesse_MW =</span> <span class="kw">mean</span>(height)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">qplot</span>(<span class="dt">x =</span> sex, <span class="dt">color =</span> <span class="kw">factor</span>(groesse_gruppe), <span class="dt">y =</span> Groesse_MW, <span class="dt">data =</span> .)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-26-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="farblehre" class="section level2">
<h2><span class="header-section-number">4.2</span> Farblehre</h2>
<p>Erstens, nicht schaden - so könnte hier die Maßregel sein. Es ist leicht, zu grelle oder wenig kontrastierende Farben auszuwählen. Eine gute Farbauswahl (Palette) ist nicht so leicht und hängt vom Zweck der Darstellung ab.</p>
<p>Cynthia Brewer<a href="#fn23" class="footnoteRef" id="fnref23"><sup>23</sup></a> hat einige schöne Farbpaletten zusammengestellt; diese sind in R und in ggplot2 über das Paket <code>RcolorBrewer</code> verfügbar.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(RColorBrewer)
brewer.pal.info %&gt;%<span class="st"> </span>rownames_to_column %&gt;%<span class="st"> </span><span class="kw">rename</span>(<span class="dt">Name =</span> rowname) %&gt;%<span class="st"> </span>kable</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="right">maxcolors</th>
<th align="left">category</th>
<th align="left">colorblind</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">BrBG</td>
<td align="right">11</td>
<td align="left">div</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">PiYG</td>
<td align="right">11</td>
<td align="left">div</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">PRGn</td>
<td align="right">11</td>
<td align="left">div</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">PuOr</td>
<td align="right">11</td>
<td align="left">div</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">RdBu</td>
<td align="right">11</td>
<td align="left">div</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">RdGy</td>
<td align="right">11</td>
<td align="left">div</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">RdYlBu</td>
<td align="right">11</td>
<td align="left">div</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">RdYlGn</td>
<td align="right">11</td>
<td align="left">div</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Spectral</td>
<td align="right">11</td>
<td align="left">div</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Accent</td>
<td align="right">8</td>
<td align="left">qual</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Dark2</td>
<td align="right">8</td>
<td align="left">qual</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Paired</td>
<td align="right">12</td>
<td align="left">qual</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Pastel1</td>
<td align="right">9</td>
<td align="left">qual</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Pastel2</td>
<td align="right">8</td>
<td align="left">qual</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Set1</td>
<td align="right">9</td>
<td align="left">qual</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Set2</td>
<td align="right">8</td>
<td align="left">qual</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Set3</td>
<td align="right">12</td>
<td align="left">qual</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Blues</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">BuGn</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">BuPu</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">GnBu</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Greens</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Greys</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Oranges</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">OrRd</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">PuBu</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">PuBuGn</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">PuRd</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Purples</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">RdPu</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Reds</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">YlGn</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">YlGnBu</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">YlOrBr</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">YlOrRd</td>
<td align="right">9</td>
<td align="left">seq</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<ul>
<li>Kontrastierende Darstellung (nominale/ qualitative Variablen) - z.B. Männer vs. Frauen</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">display.brewer.all</span>(<span class="dt">type=</span><span class="st">&quot;qual&quot;</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-28-1.png" width="100%" style="display: block; margin: auto;" /></p>
<ul>
<li>Sequenzielle Darstellung (unipolare numerische Variablen) - z.B. Preis oder Häufigkeit</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">display.brewer.all</span>(<span class="dt">type=</span><span class="st">&quot;seq&quot;</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-29-1.png" width="100%" style="display: block; margin: auto;" /></p>
<ul>
<li>Divergierende Darstellung (bipolare numerische Variablen) - z.B. semantische Potenziale oder Abstufung von “stimme überhaupt nicht zu” über “neutral” bis “stimme voll und ganz zu”</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">display.brewer.all</span>(<span class="dt">type=</span><span class="st">&quot;div&quot;</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-30-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>In <code>ggplot2</code> können wir folgendermaßen Paletten ändern.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(dest) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">count</span>(dest) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">top_n</span>(<span class="dv">5</span>)
<span class="co">#&gt; # A tibble: 5 × 2</span>
<span class="co">#&gt;    dest     n</span>
<span class="co">#&gt;   &lt;chr&gt; &lt;int&gt;</span>
<span class="co">#&gt; 1   ATL 17215</span>
<span class="co">#&gt; 2   BOS 15508</span>
<span class="co">#&gt; 3   LAX 16174</span>
<span class="co">#&gt; 4   MCO 14082</span>
<span class="co">#&gt; 5   ORD 17283</span>

p1 &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(dest %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;BOS&quot;</span>, <span class="st">&quot;ATL&quot;</span>, <span class="st">&quot;LAX&quot;</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>() +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> dest, <span class="dt">y =</span> arr_delay, <span class="dt">color =</span> dest) +
<span class="st">  </span><span class="kw">geom_boxplot</span>() +
<span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set1&quot;</span>)

p2 &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(dest %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;BOS&quot;</span>, <span class="st">&quot;ATL&quot;</span>, <span class="st">&quot;LAX&quot;</span>, <span class="st">&quot;MCO&quot;</span>, <span class="st">&quot;ORD&quot;</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>() +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> dest, <span class="dt">y =</span> arr_delay, <span class="dt">fill =</span> dest) +
<span class="st">  </span><span class="kw">geom_boxplot</span>() +
<span class="st">  </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set1&quot;</span>)

<span class="kw">grid.arrange</span>(p1, p2, <span class="dt">ncol =</span> <span class="dv">2</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/brewerpal-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p><code>scale_color_brewer</code> meint hier: “Ordne der Variablen, die für ‘color’ zuständig ist, hier <code>sex</code>, eine Farbe aus der Brewer-Palette ‘Set1’ zu”. Die Funktion wählt <em>automatisch</em> die richtige Anzahl von Farben.</p>
<p>Man beachte, dass die Linienfarbe über <code>color</code> und die Füllfarbe über <code>fill</code> zugewiesen wird. Punkte haben nur eine Linienfarbe, keine Füllfarbe.</p>
<p>Auch die Farbpaletten von Wes Anderson sind erbaulich<a href="#fn24" class="footnoteRef" id="fnref24"><sup>24</sup></a>. Diese sind nicht “hart verdrahtet” in ggplot2, sondern werden über <code>scale_XXX_manual</code> zugewiesen (wobei XXX z.B. <code>color</code> oder <code>fill</code> sein kann).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(tips, <span class="dt">package =</span> <span class="st">&quot;reshape2&quot;</span>)
<span class="kw">library</span>(wesanderson)

p1 &lt;-<span class="st"> </span>tips %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>() +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> total_bill, <span class="dt">y =</span> tip, <span class="dt">color =</span> day) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">wes_palette</span>(<span class="st">&quot;GrandBudapest&quot;</span>)) +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)

p2 &lt;-<span class="st"> </span>tips %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>() +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> total_bill, <span class="dt">y =</span> tip, <span class="dt">color =</span> day) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">wes_palette</span>(<span class="st">&quot;Chevalier&quot;</span>))  +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)

meine_farben &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;#009981&quot;</span>, <span class="st">&quot;#32F122&quot;</span>)

p3 &lt;-<span class="st"> </span>tips %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>() +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> total_bill, <span class="dt">y =</span> tip, <span class="dt">color =</span> day) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> meine_farben)  +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)

<span class="kw">grid.arrange</span>(p1, p2, p3, <span class="dt">ncol =</span> <span class="dv">3</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-31-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Wer sich berufen fühlt, eigene Farben (oder die seiner Organisation zu verwenden), kommt auf ähnlichem Weg zu Ziel. Man definiere sich seine Palette, wobei ausreichend Farben definiert sein müssen. Diese weist man dann über <code>scale_XXX_manual</code> dann zu. Man kann einerseits aus den in R definierten Farben auswählen<a href="#fn25" class="footnoteRef" id="fnref25"><sup>25</sup></a> oder sich selber die RBG-Nummern (in Hexadezimal-Nummern) heraussuchen.</p>
</div>
<div id="prinzipien" class="section level2">
<h2><span class="header-section-number">4.3</span> Prinzipien</h2>
</div>
<div id="erweiterungen-fur-ggplot" class="section level2">
<h2><span class="header-section-number">4.4</span> Erweiterungen für ggplot</h2>
<div id="ggpairs" class="section level3">
<h3><span class="header-section-number">4.4.1</span> ggpairs</h3>
<p>Um eine Streudiagramm-Matrix darzustellen, ist der Befehl <code>GGally::ggpairs</code> praktisch:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(GGally)

tips %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggpairs</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sex), <span class="dt">columns =</span> <span class="kw">c</span>(<span class="st">&quot;total_bill&quot;</span>, <span class="st">&quot;smoker&quot;</span>, <span class="st">&quot;tip&quot;</span>))</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-32-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Dabei gibt man an, welche Variable (hier <code>sex</code>) für die Farben im Diagramm zuständig sein soll (wir ordnen den Werten von <code>sex</code> jeweils eine Farbe zu). Mit <code>columns</code> sagen wir, welche Spalten des Dataframes wir dargestellt haben möchten. Lassen wir diesen Parameter weg, so werden alle Spaltne des Dataframes dargestellt.</p>
</div>
<div id="weitere" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Weitere</h3>
<p>Hier<a href="#fn26" class="footnoteRef" id="fnref26"><sup>26</sup></a> finden sich viele weitere Ergänzungen für ggplot2.</p>
</div>
</div>
<div id="fallstudie" class="section level2">
<h2><span class="header-section-number">4.5</span> Fallstudie</h2>
<p>Eine recht häufige Art von Daten in der Wirtschaft kommen von Umfragen in der Belegschaft. Diese Daten gilt es dann aufzubereiten und graphisch wiederzugeben.</p>
<div id="daten-einlesen" class="section level3">
<h3><span class="header-section-number">4.5.1</span> Daten einlesen</h3>
<p>Hier laden wir einen Datensatz zu einer Online-Umfrage:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;https://osf.io/meyhp/?action=download&quot;</span>)</code></pre></div>
<p>Der DOI für diesen Datensatz ist 10.17605/OSF.IO/4KGZH.</p>
<p>Der Datensatz besteht aus 10 Extraversions-Items (B5T nach Satow<a href="#fn27" class="footnoteRef" id="fnref27"><sup>27</sup></a>) sowie einigen Verhaltenskorrelaten (zumindest angenommenen). Uns interessieren also hier nur die 10 Extraversions-Items, die zusammen Extraversion als Persönlichkeitseigenschaft messen (sollen). Wir werden die Antworte der Befragten darstelle, aber uns hier keine Gedanken über Messqualität u.a. machen.</p>
<p>Die Umfrage kann hier<a href="#fn28" class="footnoteRef" id="fnref28"><sup>28</sup></a> eingesehen werden. Schauen wir uns die Daten mal an:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(data)
<span class="co">#&gt; Observations: 501</span>
<span class="co">#&gt; Variables: 28</span>
<span class="co">#&gt; $ X                  &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, ...</span>
<span class="co">#&gt; $ timestamp          &lt;fctr&gt; 11.03.2015 19:17:48, 11.03.2015 19:18:05, ...</span>
<span class="co">#&gt; $ code               &lt;fctr&gt; HSC, ERB, ADP, KHB, PTG, ABL, ber, hph, IH...</span>
<span class="co">#&gt; $ i01                &lt;int&gt; 3, 2, 3, 3, 4, 3, 4, 3, 4, 4, 3, 3, 4, 4, 3...</span>
<span class="co">#&gt; $ i02r               &lt;int&gt; 3, 2, 4, 3, 3, 2, 4, 3, 4, 4, 3, 4, 3, 3, 3...</span>
<span class="co">#&gt; $ i03                &lt;int&gt; 3, 1, 1, 2, 1, 1, 1, 2, 1, 2, 1, 1, 1, 4, 1...</span>
<span class="co">#&gt; $ i04                &lt;int&gt; 3, 2, 4, 4, 4, 4, 3, 3, 4, 4, 3, 3, 2, 4, 3...</span>
<span class="co">#&gt; $ i05                &lt;int&gt; 4, 3, 4, 3, 4, 2, 3, 2, 3, 3, 3, 2, 3, 3, 3...</span>
<span class="co">#&gt; $ i06r               &lt;int&gt; 4, 2, 1, 3, 3, 3, 3, 2, 4, 3, 3, 3, 3, 3, 3...</span>
<span class="co">#&gt; $ i07                &lt;int&gt; 3, 2, 3, 3, 4, 4, 2, 3, 3, 3, 2, 4, 2, 3, 3...</span>
<span class="co">#&gt; $ i08                &lt;int&gt; 2, 3, 2, 3, 2, 3, 3, 2, 3, 3, 3, 2, 3, 3, 4...</span>
<span class="co">#&gt; $ i09                &lt;int&gt; 3, 3, 3, 3, 3, 3, 3, 4, 4, 3, 4, 2, 4, 4, 4...</span>
<span class="co">#&gt; $ i10                &lt;int&gt; 1, 1, 1, 2, 4, 3, 2, 1, 2, 3, 1, 3, 2, 3, 2...</span>
<span class="co">#&gt; $ n_facebook_friends &lt;int&gt; 250, 106, 215, 200, 100, 376, 180, 432, 200...</span>
<span class="co">#&gt; $ n_hangover         &lt;int&gt; 1, 0, 0, 15, 0, 1, 1, 2, 5, 0, 1, 2, 20, 2,...</span>
<span class="co">#&gt; $ age                &lt;int&gt; 24, 35, 25, 39, 29, 33, 24, 28, 29, 38, 25,...</span>
<span class="co">#&gt; $ sex                &lt;fctr&gt; Frau, Frau, Frau, Frau, Frau, Mann, Frau, ...</span>
<span class="co">#&gt; $ extra_single_item  &lt;int&gt; 4, 3, 4, 3, 4, 4, 3, 3, 4, 4, 4, 4, 4, 4, 4...</span>
<span class="co">#&gt; $ time_conversation  &lt;dbl&gt; 10, 15, 15, 5, 5, 20, 2, 15, 10, 10, 1, 5, ...</span>
<span class="co">#&gt; $ presentation       &lt;fctr&gt; nein, nein, nein, nein, nein, ja, ja, ja, ...</span>
<span class="co">#&gt; $ n_party            &lt;int&gt; 20, 5, 3, 25, 4, 4, 3, 6, 12, 5, 10, 5, 10,...</span>
<span class="co">#&gt; $ clients            &lt;fctr&gt; , , , , , , , , , , , , , , , , , , , , , ...</span>
<span class="co">#&gt; $ extra_vignette     &lt;fctr&gt; , , , , , , , , , , , , , , , , , , , , , ...</span>
<span class="co">#&gt; $ extra_description  &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...</span>
<span class="co">#&gt; $ prop_na_per_row    &lt;dbl&gt; 0.0435, 0.0435, 0.0435, 0.0435, 0.0435, 0.0...</span>
<span class="co">#&gt; $ extra_mean         &lt;dbl&gt; 2.9, 2.1, 2.6, 2.9, 3.2, 2.8, 2.8, 2.5, 3.2...</span>
<span class="co">#&gt; $ extra_median       &lt;dbl&gt; 3.0, 2.0, 3.0, 3.0, 3.5, 3.0, 3.0, 2.5, 3.5...</span>
<span class="co">#&gt; $ client_freq        &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...</span></code></pre></div>
</div>
<div id="daten-umstellen" class="section level3">
<h3><span class="header-section-number">4.5.2</span> Daten umstellen</h3>
<p>Wir haben ein Diagramm vor Augen (s.u.), bei dem auf der X-Achse die Items stehen (1,2,…,n) und auf der Y-Achse die Anzahl der Kreuze nach Kategorien.</p>
<p>Viele Grafik-Funktionen sind nun so aufgebaut, dass auf der X-Achsen nur <em>eine</em> Variable steht. <code>ggplot2</code>, das wir hier verwenden, ist da keine Ausnahme. Wir müssen also die “breite” Tabelle (10 Spalten, pro Item eine) in eine “lange Spalte” umbauen: Eine Spalte heißt dann “Itemnummer” und die zweite “Wert des Items” oder so ähnlich.</p>
<p>Also, los geht’s: Zuerst wählen wir aus der Fülle der Daten, die Spalten, die uns interessieren: Die 10 Extraversions-Items, in diesem Fall.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data_items &lt;-<span class="st"> </span><span class="kw">select</span>(data, i01:i10)</code></pre></div>
<p>Dann stellen wir die Daten von “breit” nach “lang” um, so dass die Items eine Variable bilden und damit für <code>ggplot2</code> gut zu verarbeiten sind.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data_long &lt;-<span class="st"> </span><span class="kw">gather</span>(data_items, <span class="dt">key =</span> items, <span class="dt">value =</span> Antwort)

data_long$Antwort &lt;-<span class="st"> </span><span class="kw">factor</span>(data_long$Antwort)</code></pre></div>
<p>Den Befehl mit <code>factor</code> brauchen wir für zum Diagramm erstellen im Folgenden. Dieser Befehl macht aus den Zahlen bei der Variable <code>Antwort</code> eine nominale Variable (in R: <code>factor</code>) mit Text-Werten “1”, “2” und so weiter. Wozu brauchen wir das? Der Digrammbefehl unten kann nur mit nominalen Variablen Gruppierungen durchführen. Wir werden in dem Diagramm die Anzahl der Antworten darstellen - die Anzahl der Antworten nach Antwort-Gruppe (Gruppe mit Antwort “1” etc.).</p>
<p>Keine Sorge, wenn sich das reichlich ungewöhnlich anhört. Sie müssen es an dieser Stelle nicht erfinden :-)</p>
<p>Man gewöhnt sich daran einerseits; und andererseits ist es vielleicht auch so, dass diese Funktionen nicht perfekt sind, oder nicht aus unserer Sicht oder nur aus Sicht des Menschen, der die Funktion geschrieben hat. Jedenfalls brauchen wir hier eine <code>factor</code> Variable zur Gruppierung…</p>
<p>Damit haben wir es schon! Jetzt wird gemalt.</p>
</div>
<div id="diagramme-fur-anteile" class="section level3">
<h3><span class="header-section-number">4.5.3</span> Diagramme für Anteile</h3>
<p>Wir nutzen <code>ggplot2</code>, wie gesagt, und davon die Funktion <code>qplot</code> (q wie quick, nehme ich an.).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> data_long) +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> items)  +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> Antwort), <span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>) </code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-37-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Was macht dieser <code>ggplot</code> Befehl? Schauen wir es uns in Einzelnen an:</p>
<ul>
<li><code>ggplot(data = ...)</code>: Wir sagen “Ich möchte gern die Funktion ggplot nutzen, um den Datensatz … zu plotten”.</li>
<li><code>aes(...)</code>: Hier definieren wir die “aesthetics” des Diagramms, d.h. alles “Sichtbare”. Wir ordnen in diesem Fall der X-Achse die Variable <code>items</code> zu. Per Standardeinstellung geht <code>ggplot</code> davon aus, dass sie die Häufigkeiten der X-Werte auf der Y-Achse haben wollen, wenn Sie nichts über die Y-Achse sagen. Jetzt haben wir ein Koordinatensystem definiert (das noch leer ist).</li>
<li><code>geom_bar()</code>: “Hey R oder ggplot, jetzt male mal einen barplot in den ansonsten noch leeren plot”.</li>
<li><code>aes(fill = Antwort)</code>: Genauer gesagt nutzen wir <code>aes</code> um einen sichtbaren Aspekte des Diagramms (wie die X-Achse) eine Variable des Datensatzes zuzuordnen. Jetzt sagen wir, dass die Füllung (im Balkendiagramm) durch die Werte von <code>Antwort</code> definiert sein sollen (also “1”, “2” etc.).</li>
<li><code>position = &quot;fill&quot;</code> sagt, dass die Gesamt-Höhe des Balken aufgeteilt werden soll mit den “Teil-Höhen” der Gruppen (Antwort-Kategorien 1 bis 4); wir hätten die Teil-Höhen auch nebeneinander stellen können.</li>
</ul>
<p>Vielleicht ist es schöner, die NAs erst zu entfernen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data_long &lt;-<span class="st"> </span><span class="kw">na.omit</span>(data_long)</code></pre></div>
<p>Und dann noch mal plotten:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> data_long) +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> items)  +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> Antwort), <span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>) </code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-39-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="um-90-drehen" class="section level3">
<h3><span class="header-section-number">4.5.4</span> Um 90° drehen</h3>
<p>Dazu nehmen wir <code>+ coord_flip()</code>, also “flippe das Koordinatensystem”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> data_long) +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> items)  +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> Antwort), <span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>) +
<span class="st">  </span><span class="kw">coord_flip</span>()</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-40-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="text-labels-fur-die-items" class="section level3">
<h3><span class="header-section-number">4.5.5</span> Text-Labels für die Items</h3>
<p>Wir definieren die Texte (“Labels”) für die Items:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">item_labels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ich bin das erste Item&quot;</span>,
                 <span class="st">&quot;Das zweite Item&quot;</span>,
                 <span class="st">&quot;Item 3 sdjfkladsjk&quot;</span>,
                 <span class="st">&quot;Ich bin ein krasser Couch-Potato UMKODIERT&quot;</span>,
<span class="st">&quot;i5 asf&quot;</span>, <span class="st">&quot;i6 sdf&quot;</span>, <span class="st">&quot;adfjks&quot;</span>, <span class="st">&quot;sfjlkd&quot;</span>, <span class="st">&quot;sdfkjl&quot;</span>, <span class="st">&quot;sdfjkl&quot;</span>)</code></pre></div>
<p>Jetzt hängen wir die Labels an die Items im Diagramm:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> data_long) +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> items)  +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> Antwort), <span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>) +
<span class="st">  </span><span class="kw">coord_flip</span>() +
<span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">labels =</span> item_labels)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-42-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Man kann auch einen Zeilenumbruch in den Item-Labels erzwingen… wobei das führt uns schon recht weit, aber gut, zum Abschluss :-)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">item_labels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ich bin das erste Item&quot;</span>,
                 <span class="st">&quot;Das zweite Item&quot;</span>,
                 <span class="st">&quot;Item 3 sdjfkladsjk&quot;</span>,
                 <span class="st">&quot;Ich bin ein krasser </span><span class="ch">\n</span><span class="st">Couch-Potato***mit Zeilenumbruch***&quot;</span>,
<span class="st">&quot;i5 asf&quot;</span>, <span class="st">&quot;i6 sdf&quot;</span>, <span class="st">&quot;adfjks&quot;</span>, <span class="st">&quot;sfjlkd&quot;</span>, <span class="st">&quot;sdfkjl&quot;</span>, <span class="st">&quot;sdfjkl&quot;</span>)</code></pre></div>
<p>Und wieder plotten:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> data_long) +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> items)  +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> Antwort), <span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>) +
<span class="st">  </span><span class="kw">coord_flip</span>() +
<span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">labels =</span> item_labels, <span class="dt">name =</span> <span class="st">&quot;Extraversionsitems&quot;</span>) +
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Anteile&quot;</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-44-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="diagramm-mit-haufigkeiten" class="section level3">
<h3><span class="header-section-number">4.5.6</span> Diagramm mit Häufigkeiten</h3>
<p>Ach so, schön wäre noch die echten Zahlen an der Y-Achse, nicht Anteile. Dafür müssen wir unseren Diagrammtyp ändern, bzw. die Art der Anordnung ändern. Mit <code>position = &quot;fill&quot;</code> wird der Anteil (also mit einer Summe von 100%) dargestellt. Wir können auch einfach die Zahlen/Häufigkeiten anzeigen, in dem wir die Kategorien “aufeinander stapeln”</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> data_long) +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> items)  +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> Antwort), <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>) +
<span class="st">  </span><span class="kw">coord_flip</span>() +
<span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">labels =</span> item_labels) </code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-45-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="farbschema" class="section level3">
<h3><span class="header-section-number">4.5.7</span> Farbschema</h3>
<p>Ja, die Wünsche hören nicht auf… Also, noch ein anderes Farbschema:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> data_long) +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> items)  +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> Antwort), <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>) +
<span class="st">  </span><span class="kw">coord_flip</span>() +
<span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">labels =</span> item_labels) +
<span class="st">  </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette =</span> <span class="dv">17</span>)</code></pre></div>
<p><img src="05_Daten_visualisieren_files/figure-html/unnamed-chunk-46-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="verweise-2" class="section level2">
<h2><span class="header-section-number">4.6</span> Verweise</h2>
<ul>
<li><p>Edward Tufte gilt als Grand Seigneur der Datenvisualisierung; er hat mehrere lesenswerte Bücher zu dem Thema geschrieben <span class="citation">(Tufte <a href="#ref-1930824130">2001</a>; Tufte <a href="#ref-1930824165">2006</a>; Tufte <a href="#ref-1930824149">1990</a>)</span>.</p></li>
<li><p>William Cleveland, ein amerikanischer Statistiker ist bekannt für seine grundlegenden, und weithin akzeptierten Ansätze für Diagramme, die die wesentliche Aussage schnörkellos transportieren <span class="citation">(Cleveland <a href="#ref-Cleveland">1993</a>)</span>.</p></li>
</ul>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-1930824130">
<p>Tufte, Edward R. 2001. <em>The Visual Display of Quantitative Information</em>. Graphics Press. <a href="https://www.amazon.com/Visual-Display-Quantitative-Information/dp/1930824130%3FSubscriptionId%3D0JYN1NVW651KCA56C102%26tag%3Dtechkie-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1930824130">https://www.amazon.com/Visual-Display-Quantitative-Information/dp/1930824130%3FSubscriptionId%3D0JYN1NVW651KCA56C102%26tag%3Dtechkie-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1930824130</a>.</p>
</div>
<div id="ref-1930824165">
<p>Tufte, Edward R. 2006. <em>Beautiful Evidence</em>. Graphics Press. <a href="https://www.amazon.com/Beautiful-Evidence-Edward-R-Tufte/dp/1930824165%3FSubscriptionId%3D0JYN1NVW651KCA56C102%26tag%3Dtechkie-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1930824165">https://www.amazon.com/Beautiful-Evidence-Edward-R-Tufte/dp/1930824165%3FSubscriptionId%3D0JYN1NVW651KCA56C102%26tag%3Dtechkie-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1930824165</a>.</p>
</div>
<div id="ref-1930824149">
<p>Tufte, Edward R. 1990. <em>Envisioning Information</em>. Graphics Press. <a href="https://www.amazon.com/Envisioning-Information-Edward-R-Tufte/dp/1930824149%3FSubscriptionId%3D0JYN1NVW651KCA56C102%26tag%3Dtechkie-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1930824149">https://www.amazon.com/Envisioning-Information-Edward-R-Tufte/dp/1930824149%3FSubscriptionId%3D0JYN1NVW651KCA56C102%26tag%3Dtechkie-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1930824149</a>.</p>
</div>
<div id="ref-Cleveland">
<p>Cleveland, William S. 1993. <em>Visualizing Data</em>. Hobart Press. <a href="https://www.amazon.com/Visualizing-Data-William-S-Cleveland/dp/0963488406%3FSubscriptionId%3D0JYN1NVW651KCA56C102%26tag%3Dtechkie-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0963488406">https://www.amazon.com/Visualizing-Data-William-S-Cleveland/dp/0963488406%3FSubscriptionId%3D0JYN1NVW651KCA56C102%26tag%3Dtechkie-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0963488406</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="20">
<li id="fn20"><p><a href="https://de.wikipedia.org/wiki/Anscombe-Quartett" class="uri">https://de.wikipedia.org/wiki/Anscombe-Quartett</a><a href="daten-visualisieren.html#fnref20">↩</a></p></li>
<li id="fn21"><p>Achtung: Nicht <code>qqplot</code>, nicht <code>ggplot2</code>, nicht <code>gplot</code>…<a href="daten-visualisieren.html#fnref21">↩</a></p></li>
<li id="fn22"><p><a href="http://www.omegahat.net/Rstem/stemming.pdf" class="uri">http://www.omegahat.net/Rstem/stemming.pdf</a><a href="daten-visualisieren.html#fnref22">↩</a></p></li>
<li id="fn23"><p><a href="https://cran.r-project.org/web/packages/wordcloud/index.html" class="uri">https://cran.r-project.org/web/packages/wordcloud/index.html</a><a href="daten-visualisieren.html#fnref23">↩</a></p></li>
<li id="fn24"><p><a href="https://github.com/karthik/wesanderson" class="uri">https://github.com/karthik/wesanderson</a><a href="daten-visualisieren.html#fnref24">↩</a></p></li>
<li id="fn25"><p><a href="http://sape.inf.usi.ch/quick-reference/ggplot2/colour" class="uri">http://sape.inf.usi.ch/quick-reference/ggplot2/colour</a><a href="daten-visualisieren.html#fnref25">↩</a></p></li>
<li id="fn26"><p><a href="https://www.ggplot2-exts.org" class="uri">https://www.ggplot2-exts.org</a><a href="daten-visualisieren.html#fnref26">↩</a></p></li>
<li id="fn27"><p><a href="https://www.zpid.de/pub/tests/PT_9006357_B5T_Forschungsbericht.pdf" class="uri">https://www.zpid.de/pub/tests/PT_9006357_B5T_Forschungsbericht.pdf</a><a href="daten-visualisieren.html#fnref27">↩</a></p></li>
<li id="fn28"><p><a href="https://docs.google.com/forms/d/e/1FAIpQLSfD4wQuhDV_edx1WBfN3Qos7XqoVbe41VpiKLRKtGLeuUD09Q/viewform" class="uri">https://docs.google.com/forms/d/e/1FAIpQLSfD4wQuhDV_edx1WBfN3Qos7XqoVbe41VpiKLRKtGLeuUD09Q/viewform</a><a href="daten-visualisieren.html#fnref28">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="daten-aufbereiten.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="statistisches-modellieren.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
