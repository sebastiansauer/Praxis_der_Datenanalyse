<!DOCTYPE html>
<html  lang="de-De">

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Praxis der Datenanalyse ENTWURF</title>
  <meta name="description" content="Eine Einführung in moderne Statistik für Praktiker">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Praxis der Datenanalyse ENTWURF" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="cover.jpg" />
  <meta property="og:description" content="Eine Einführung in moderne Statistik für Praktiker" />
  <meta name="github-repo" content="sebastiansauer/Praxis_der_Datenanalyse" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Praxis der Datenanalyse ENTWURF" />
  
  <meta name="twitter:description" content="Eine Einführung in moderne Statistik für Praktiker" />
  <meta name="twitter:image" content="cover.jpg" />

<meta name="author" content="Sebastian Sauer. Mit Beiträgen von Oliver Gansser, Matthias Gehrke und Karsten Lübke">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="images/favicon/favicon.ico" type="image/x-icon">
<link rel="prev" href="lineare-regression.html">
<link rel="next" href="fallstudien-zum-geleiteten-modellieren.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><img src="images/FOM.jpg"
title="FOM_Logo"  width="30%" style="display: block; margin: auto;" /></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Vorwort</a></li>
<li class="chapter" data-level="1" data-path="organisatorisches.html"><a href="organisatorisches.html"><i class="fa fa-check"></i><b>1</b> Organisatorisches</a><ul>
<li class="chapter" data-level="1.1" data-path="organisatorisches.html"><a href="organisatorisches.html#modulziele"><i class="fa fa-check"></i><b>1.1</b> Modulziele</a></li>
<li class="chapter" data-level="1.2" data-path="organisatorisches.html"><a href="organisatorisches.html#themen-pro-termin"><i class="fa fa-check"></i><b>1.2</b> Themen pro Termin</a></li>
<li class="chapter" data-level="1.3" data-path="organisatorisches.html"><a href="organisatorisches.html#vorerfahrung"><i class="fa fa-check"></i><b>1.3</b> Vorerfahrung</a></li>
<li class="chapter" data-level="1.4" data-path="organisatorisches.html"><a href="organisatorisches.html#prufung"><i class="fa fa-check"></i><b>1.4</b> Prüfung</a><ul>
<li class="chapter" data-level="1.4.1" data-path="organisatorisches.html"><a href="organisatorisches.html#prufungshinweise"><i class="fa fa-check"></i><b>1.4.1</b> Prüfungshinweise</a></li>
<li class="chapter" data-level="1.4.2" data-path="organisatorisches.html"><a href="organisatorisches.html#klausur"><i class="fa fa-check"></i><b>1.4.2</b> Klausur</a></li>
<li class="chapter" data-level="1.4.3" data-path="organisatorisches.html"><a href="organisatorisches.html#datenanalyse"><i class="fa fa-check"></i><b>1.4.3</b> Datenanalyse</a></li>
<li class="chapter" data-level="1.4.4" data-path="organisatorisches.html"><a href="organisatorisches.html#gliederungsvorschlag-zur-datenanalyse"><i class="fa fa-check"></i><b>1.4.4</b> Gliederungsvorschlag zur Datenanalyse</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="organisatorisches.html"><a href="organisatorisches.html#literatur"><i class="fa fa-check"></i><b>1.5</b> Literatur</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rahmen.html"><a href="rahmen.html"><i class="fa fa-check"></i><b>2</b> Rahmen</a><ul>
<li class="chapter" data-level="2.1" data-path="rahmen.html"><a href="rahmen.html#software-installieren"><i class="fa fa-check"></i><b>2.1</b> Software installieren</a><ul>
<li class="chapter" data-level="2.1.1" data-path="rahmen.html"><a href="rahmen.html#r-und-rstudio-installieren"><i class="fa fa-check"></i><b>2.1.1</b> R und RStudio installieren</a></li>
<li class="chapter" data-level="2.1.2" data-path="rahmen.html"><a href="rahmen.html#sonstiges-material-fur-dieses-skript"><i class="fa fa-check"></i><b>2.1.2</b> Sonstiges Material für dieses Skript</a></li>
<li class="chapter" data-level="2.1.3" data-path="rahmen.html"><a href="rahmen.html#hilfe-r-startet-nicht"><i class="fa fa-check"></i><b>2.1.3</b> Hilfe! R startet nicht!</a></li>
<li class="chapter" data-level="2.1.4" data-path="rahmen.html"><a href="rahmen.html#die-denk--und-gefuhlswelt-von-r"><i class="fa fa-check"></i><b>2.1.4</b> Die Denk- und Gefühlswelt von R</a></li>
<li class="chapter" data-level="2.1.5" data-path="rahmen.html"><a href="rahmen.html#pakete"><i class="fa fa-check"></i><b>2.1.5</b> Pakete</a></li>
<li class="chapter" data-level="2.1.6" data-path="rahmen.html"><a href="rahmen.html#r-pakete-fur-dieses-buch"><i class="fa fa-check"></i><b>2.1.6</b> R-Pakete für dieses Buch</a></li>
<li class="chapter" data-level="2.1.7" data-path="rahmen.html"><a href="rahmen.html#vertiefung-zuordnung-von-paketen-zu-befehlen"><i class="fa fa-check"></i><b>2.1.7</b> Vertiefung: Zuordnung von Paketen zu Befehlen</a></li>
<li class="chapter" data-level="2.1.8" data-path="rahmen.html"><a href="rahmen.html#daten"><i class="fa fa-check"></i><b>2.1.8</b> Datensätze</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rahmen.html"><a href="rahmen.html#errrstkontakt"><i class="fa fa-check"></i><b>2.2</b> ERRRstkontakt</a><ul>
<li class="chapter" data-level="2.2.1" data-path="rahmen.html"><a href="rahmen.html#datentypen-in-r"><i class="fa fa-check"></i><b>2.2.1</b> Datentypen in R</a></li>
<li class="chapter" data-level="2.2.2" data-path="rahmen.html"><a href="rahmen.html#hinweise"><i class="fa fa-check"></i><b>2.2.2</b> Hinweise</a></li>
<li class="chapter" data-level="2.2.3" data-path="rahmen.html"><a href="rahmen.html#r-als-taschenrechner"><i class="fa fa-check"></i><b>2.2.3</b> R als Taschenrechner</a></li>
<li class="chapter" data-level="2.2.4" data-path="rahmen.html"><a href="rahmen.html#text-und-variablen-zuweisen"><i class="fa fa-check"></i><b>2.2.4</b> Text und Variablen zuweisen</a></li>
<li class="chapter" data-level="2.2.5" data-path="rahmen.html"><a href="rahmen.html#funktionen-aufrufen"><i class="fa fa-check"></i><b>2.2.5</b> Funktionen aufrufen</a></li>
<li class="chapter" data-level="2.2.6" data-path="rahmen.html"><a href="rahmen.html#wd"><i class="fa fa-check"></i><b>2.2.6</b> Das Arbeitsverzeichnis</a></li>
<li class="chapter" data-level="2.2.7" data-path="rahmen.html"><a href="rahmen.html#hier-werden-sie-geholfen"><i class="fa fa-check"></i><b>2.2.7</b> Hier werden Sie geholfen</a></li>
<li class="chapter" data-level="2.2.8" data-path="rahmen.html"><a href="rahmen.html#aufgaben"><i class="fa fa-check"></i><b>2.2.8</b> Aufgaben</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="rahmen.html"><a href="rahmen.html#was-ist-statistik-wozu-ist-sie-gut"><i class="fa fa-check"></i><b>2.3</b> Was ist Statistik? Wozu ist sie gut?</a></li>
<li class="chapter" data-level="2.4" data-path="rahmen.html"><a href="rahmen.html#befehlsubersicht"><i class="fa fa-check"></i><b>2.4</b> Befehlsübersicht</a></li>
<li class="chapter" data-level="2.5" data-path="rahmen.html"><a href="rahmen.html#verweise"><i class="fa fa-check"></i><b>2.5</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="daten-einlesen.html"><a href="daten-einlesen.html"><i class="fa fa-check"></i><b>3</b> Daten einlesen</a><ul>
<li class="chapter" data-level="3.1" data-path="daten-einlesen.html"><a href="daten-einlesen.html#daten-in-r-importieren"><i class="fa fa-check"></i><b>3.1</b> Daten in R importieren</a><ul>
<li class="chapter" data-level="3.1.1" data-path="daten-einlesen.html"><a href="daten-einlesen.html#excel-dateien-importieren"><i class="fa fa-check"></i><b>3.1.1</b> Excel-Dateien importieren</a></li>
<li class="chapter" data-level="3.1.2" data-path="daten-einlesen.html"><a href="daten-einlesen.html#csv-dateien-importieren"><i class="fa fa-check"></i><b>3.1.2</b> CSV-Dateien importieren</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="daten-einlesen.html"><a href="daten-einlesen.html#normalform-einer-tabelle"><i class="fa fa-check"></i><b>3.2</b> Normalform einer Tabelle</a></li>
<li class="chapter" data-level="3.3" data-path="daten-einlesen.html"><a href="daten-einlesen.html#normalform"><i class="fa fa-check"></i><b>3.3</b> Tabelle in Normalform bringen</a></li>
<li class="chapter" data-level="3.4" data-path="daten-einlesen.html"><a href="daten-einlesen.html#textkodierung"><i class="fa fa-check"></i><b>3.4</b> Textkodierung</a></li>
<li class="chapter" data-level="3.5" data-path="daten-einlesen.html"><a href="daten-einlesen.html#befehlsubersicht-1"><i class="fa fa-check"></i><b>3.5</b> Befehlsübersicht</a></li>
<li class="chapter" data-level="3.6" data-path="daten-einlesen.html"><a href="daten-einlesen.html#aufgaben-1"><i class="fa fa-check"></i><b>3.6</b> Aufgaben</a></li>
<li class="chapter" data-level="3.7" data-path="daten-einlesen.html"><a href="daten-einlesen.html#verweise-1"><i class="fa fa-check"></i><b>3.7</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="datenjudo.html"><a href="datenjudo.html"><i class="fa fa-check"></i><b>4</b> Datenjudo</a><ul>
<li class="chapter" data-level="4.1" data-path="datenjudo.html"><a href="datenjudo.html#typische-probleme-der-datenaufbereitung"><i class="fa fa-check"></i><b>4.1</b> Typische Probleme der Datenaufbereitung</a></li>
<li class="chapter" data-level="4.2" data-path="datenjudo.html"><a href="datenjudo.html#daten-aufbereiten-mit-dplyr"><i class="fa fa-check"></i><b>4.2</b> Daten aufbereiten mit <code>dplyr</code></a><ul>
<li class="chapter" data-level="4.2.1" data-path="datenjudo.html"><a href="datenjudo.html#die-zwei-prinzipien-von-dplyr"><i class="fa fa-check"></i><b>4.2.1</b> Die zwei Prinzipien von <code>dplyr</code></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="datenjudo.html"><a href="datenjudo.html#zentrale-bausteine-von-dplyr"><i class="fa fa-check"></i><b>4.3</b> Zentrale Bausteine von <code>dplyr</code></a><ul>
<li class="chapter" data-level="4.3.1" data-path="datenjudo.html"><a href="datenjudo.html#zeilen-filtern-mit-filter"><i class="fa fa-check"></i><b>4.3.1</b> Zeilen filtern mit <code>filter</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="datenjudo.html"><a href="datenjudo.html#spalten-wahlen-mit-select"><i class="fa fa-check"></i><b>4.3.2</b> Spalten wählen mit <code>select</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="datenjudo.html"><a href="datenjudo.html#zeilen-sortieren-mit-arrange"><i class="fa fa-check"></i><b>4.3.3</b> Zeilen sortieren mit <code>arrange</code></a></li>
<li class="chapter" data-level="4.3.4" data-path="datenjudo.html"><a href="datenjudo.html#datensatz-gruppieren-mit-group_by"><i class="fa fa-check"></i><b>4.3.4</b> Datensatz gruppieren mit <code>group_by</code></a></li>
<li class="chapter" data-level="4.3.5" data-path="datenjudo.html"><a href="datenjudo.html#eine-spalte-zusammenfassen-mit-summarise"><i class="fa fa-check"></i><b>4.3.5</b> Eine Spalte zusammenfassen mit <code>summarise</code></a></li>
<li class="chapter" data-level="4.3.6" data-path="datenjudo.html"><a href="datenjudo.html#zeilen-zahlen-mit-n-und-count"><i class="fa fa-check"></i><b>4.3.6</b> Zeilen zählen mit <code>n</code> und <code>count</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="datenjudo.html"><a href="datenjudo.html#die-pfeife"><i class="fa fa-check"></i><b>4.4</b> Die Pfeife</a><ul>
<li class="chapter" data-level="4.4.1" data-path="datenjudo.html"><a href="datenjudo.html#spalten-berechnen-mit-mutate"><i class="fa fa-check"></i><b>4.4.1</b> Spalten berechnen mit <code>mutate</code></a></li>
<li class="chapter" data-level="4.4.2" data-path="datenjudo.html"><a href="datenjudo.html#aufgaben-8"><i class="fa fa-check"></i><b>4.4.2</b> Aufgaben</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="datenjudo.html"><a href="datenjudo.html#deskriptive-statistik"><i class="fa fa-check"></i><b>4.5</b> Deskriptive Statistik</a></li>
<li class="chapter" data-level="4.6" data-path="datenjudo.html"><a href="datenjudo.html#befehlsubersicht-2"><i class="fa fa-check"></i><b>4.6</b> Befehlsübersicht</a></li>
<li class="chapter" data-level="4.7" data-path="datenjudo.html"><a href="datenjudo.html#verweise-2"><i class="fa fa-check"></i><b>4.7</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html"><i class="fa fa-check"></i><b>5</b> Praxisprobleme der Datenaufbereitung</a><ul>
<li class="chapter" data-level="5.1" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#datenaufbereitung"><i class="fa fa-check"></i><b>5.1</b> Datenaufbereitung</a><ul>
<li class="chapter" data-level="5.1.1" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#auf-fehlende-werte-prufen"><i class="fa fa-check"></i><b>5.1.1</b> Auf fehlende Werte prüfen</a></li>
<li class="chapter" data-level="5.1.2" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#falle-mit-fehlenden-werte-loschen"><i class="fa fa-check"></i><b>5.1.2</b> Fälle mit fehlenden Werte löschen</a></li>
<li class="chapter" data-level="5.1.3" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#fehlende-werte-ggf.-ersetzen"><i class="fa fa-check"></i><b>5.1.3</b> Fehlende Werte ggf. ersetzen</a></li>
<li class="chapter" data-level="5.1.4" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#nach-fehlern-suchen"><i class="fa fa-check"></i><b>5.1.4</b> Nach Fehlern suchen</a></li>
<li class="chapter" data-level="5.1.5" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#ausreier-identifizieren"><i class="fa fa-check"></i><b>5.1.5</b> Ausreißer identifizieren</a></li>
<li class="chapter" data-level="5.1.6" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#hochkorrelierte-variablen-finden"><i class="fa fa-check"></i><b>5.1.6</b> Hochkorrelierte Variablen finden</a></li>
<li class="chapter" data-level="5.1.7" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#z-standardisieren"><i class="fa fa-check"></i><b>5.1.7</b> z-Standardisieren</a></li>
<li class="chapter" data-level="5.1.8" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#quasi-konstante-finden"><i class="fa fa-check"></i><b>5.1.8</b> Quasi-Konstante finden</a></li>
<li class="chapter" data-level="5.1.9" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#auf-normalverteilung-prufen"><i class="fa fa-check"></i><b>5.1.9</b> Auf Normalverteilung prüfen</a></li>
<li class="chapter" data-level="5.1.10" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#werte-umkodieren-und-partionieren-binnen"><i class="fa fa-check"></i><b>5.1.10</b> Werte umkodieren und partionieren (“binnen”)</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#deskriptive-statistiken-berechnen"><i class="fa fa-check"></i><b>5.2</b> Deskriptive Statistiken berechnen</a><ul>
<li class="chapter" data-level="5.2.1" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#mittelwerte-pro-zeile-berechnen"><i class="fa fa-check"></i><b>5.2.1</b> Mittelwerte pro Zeile berechnen</a></li>
<li class="chapter" data-level="5.2.2" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#mittelwerte-pro-spalte-berechnen"><i class="fa fa-check"></i><b>5.2.2</b> Mittelwerte pro Spalte berechnen</a></li>
<li class="chapter" data-level="5.2.3" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#korrelationstabellen-berechnen"><i class="fa fa-check"></i><b>5.2.3</b> Korrelationstabellen berechnen</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="praxisprobleme-der-datenaufbereitung.html"><a href="praxisprobleme-der-datenaufbereitung.html#befehlsubersicht-3"><i class="fa fa-check"></i><b>5.3</b> Befehlsübersicht</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="case-movies.html"><a href="case-movies.html"><i class="fa fa-check"></i><b>6</b> Fallstudie ‘movies’</a><ul>
<li class="chapter" data-level="6.1" data-path="case-movies.html"><a href="case-movies.html#wie-viele-filme-gibt-es-pro-genre"><i class="fa fa-check"></i><b>6.1</b> Wie viele Filme gibt es pro Genre?</a></li>
<li class="chapter" data-level="6.2" data-path="case-movies.html"><a href="case-movies.html#welches-genre-ist-am-haufigsten"><i class="fa fa-check"></i><b>6.2</b> Welches Genre ist am häufigsten?</a></li>
<li class="chapter" data-level="6.3" data-path="case-movies.html"><a href="case-movies.html#zusammenhang-zwischen-budget-und-beurteilung"><i class="fa fa-check"></i><b>6.3</b> Zusammenhang zwischen Budget und Beurteilung</a></li>
<li class="chapter" data-level="6.4" data-path="case-movies.html"><a href="case-movies.html#wurden-die-filme-im-lauf-der-jahre-teurer-undoder-besser"><i class="fa fa-check"></i><b>6.4</b> Wurden die Filme im Lauf der Jahre teurer und/oder “besser”?</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html"><i class="fa fa-check"></i><b>7</b> Daten visualisieren</a><ul>
<li class="chapter" data-level="7.1" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#ein-bild-sagt-mehr-als-1000-worte"><i class="fa fa-check"></i><b>7.1</b> Ein Bild sagt mehr als 1000 Worte</a></li>
<li class="chapter" data-level="7.2" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#die-anatomie-eines-diagramms"><i class="fa fa-check"></i><b>7.2</b> Die Anatomie eines Diagramms</a></li>
<li class="chapter" data-level="7.3" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#einstieg-in-ggplot2---qplot"><i class="fa fa-check"></i><b>7.3</b> Einstieg in <code>ggplot2</code> - <code>qplot</code></a></li>
<li class="chapter" data-level="7.4" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#haufige-arten-von-diagrammen"><i class="fa fa-check"></i><b>7.4</b> Häufige Arten von Diagrammen</a><ul>
<li class="chapter" data-level="7.4.1" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#eine-kontinuierliche-variable"><i class="fa fa-check"></i><b>7.4.1</b> Eine kontinuierliche Variable</a></li>
<li class="chapter" data-level="7.4.2" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#zwei-kontinuierliche-variablen"><i class="fa fa-check"></i><b>7.4.2</b> Zwei kontinuierliche Variablen</a></li>
<li class="chapter" data-level="7.4.3" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#eine-nominale-variable"><i class="fa fa-check"></i><b>7.4.3</b> Eine nominale Variable</a></li>
<li class="chapter" data-level="7.4.4" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#zwei-nominale-variablen"><i class="fa fa-check"></i><b>7.4.4</b> Zwei nominale Variablen</a></li>
<li class="chapter" data-level="7.4.5" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#zusammenfassungen-zeigen"><i class="fa fa-check"></i><b>7.4.5</b> Zusammenfassungen zeigen</a></li>
<li class="chapter" data-level="7.4.6" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#uberblick-zu-haufigen-diagrammtypen"><i class="fa fa-check"></i><b>7.4.6</b> Überblick zu häufigen Diagrammtypen</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#die-gefuhlswelt-von-ggplot2"><i class="fa fa-check"></i><b>7.5</b> Die Gefühlswelt von <code>ggplot2</code></a></li>
<li class="chapter" data-level="7.6" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#aufgaben-9"><i class="fa fa-check"></i><b>7.6</b> Aufgaben</a></li>
<li class="chapter" data-level="7.7" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#losungen"><i class="fa fa-check"></i><b>7.7</b> Lösungen</a></li>
<li class="chapter" data-level="7.8" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#richtig-oder-falsch"><i class="fa fa-check"></i><b>7.8</b> Richtig oder Falsch</a></li>
<li class="chapter" data-level="7.9" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#befehlsubersicht-4"><i class="fa fa-check"></i><b>7.9</b> Befehlsübersicht</a></li>
<li class="chapter" data-level="7.10" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#geome"><i class="fa fa-check"></i><b>7.10</b> Vertiefung: Geome bei ggplot2</a></li>
<li class="chapter" data-level="7.11" data-path="daten-visualisieren.html"><a href="daten-visualisieren.html#verweise-3"><i class="fa fa-check"></i><b>7.11</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="fallstudie-zur-visualisierung.html"><a href="fallstudie-zur-visualisierung.html"><i class="fa fa-check"></i><b>8</b> Fallstudie zur Visualisierung</a><ul>
<li class="chapter" data-level="8.1" data-path="daten-einlesen.html"><a href="daten-einlesen.html#daten-einlesen"><i class="fa fa-check"></i><b>8.1</b> Daten einlesen</a></li>
<li class="chapter" data-level="8.2" data-path="fallstudie-zur-visualisierung.html"><a href="fallstudie-zur-visualisierung.html#daten-umstellen"><i class="fa fa-check"></i><b>8.2</b> Daten umstellen</a></li>
<li class="chapter" data-level="8.3" data-path="fallstudie-zur-visualisierung.html"><a href="fallstudie-zur-visualisierung.html#diagramme-fur-anteile"><i class="fa fa-check"></i><b>8.3</b> Diagramme für Anteile</a></li>
<li class="chapter" data-level="8.4" data-path="fallstudie-zur-visualisierung.html"><a href="fallstudie-zur-visualisierung.html#um-90-drehen"><i class="fa fa-check"></i><b>8.4</b> Um 90° drehen</a></li>
<li class="chapter" data-level="8.5" data-path="fallstudie-zur-visualisierung.html"><a href="fallstudie-zur-visualisierung.html#text-labels-fur-die-items"><i class="fa fa-check"></i><b>8.5</b> Text-Labels für die Items</a></li>
<li class="chapter" data-level="8.6" data-path="fallstudie-zur-visualisierung.html"><a href="fallstudie-zur-visualisierung.html#diagramm-mit-haufigkeiten"><i class="fa fa-check"></i><b>8.6</b> Diagramm mit Häufigkeiten</a></li>
<li class="chapter" data-level="8.7" data-path="fallstudie-zur-visualisierung.html"><a href="fallstudie-zur-visualisierung.html#farbschema"><i class="fa fa-check"></i><b>8.7</b> Farbschema</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mod1.html"><a href="mod1.html"><i class="fa fa-check"></i><b>9</b> Grundlagen des Modellierens</a><ul>
<li class="chapter" data-level="9.1" data-path="mod1.html"><a href="mod1.html#Modellieren"><i class="fa fa-check"></i><b>9.1</b> Was ist ein Modell? Was ist Modellieren?</a></li>
<li class="chapter" data-level="9.2" data-path="mod1.html"><a href="mod1.html#ein-beispiel-zum-modellieren-in-der-datenanalyse"><i class="fa fa-check"></i><b>9.2</b> Ein Beispiel zum Modellieren in der Datenanalyse</a></li>
<li class="chapter" data-level="9.3" data-path="mod1.html"><a href="mod1.html#Ziele"><i class="fa fa-check"></i><b>9.3</b> Taxonomie der Ziele des Modellierens</a></li>
<li class="chapter" data-level="9.4" data-path="mod1.html"><a href="mod1.html#die-vier-schritte-des-statistischen-modellierens"><i class="fa fa-check"></i><b>9.4</b> Die vier Schritte des statistischen Modellierens</a></li>
<li class="chapter" data-level="9.5" data-path="mod1.html"><a href="mod1.html#einfache-vs.komplexe-modelle-unter--vs.uberanpassung"><i class="fa fa-check"></i><b>9.5</b> Einfache vs. komplexe Modelle: Unter- vs. Überanpassung</a></li>
<li class="chapter" data-level="9.6" data-path="mod1.html"><a href="mod1.html#bias-varianz-abwagung"><i class="fa fa-check"></i><b>9.6</b> Bias-Varianz-Abwägung</a></li>
<li class="chapter" data-level="9.7" data-path="mod1.html"><a href="mod1.html#training--vs.test-stichprobe"><i class="fa fa-check"></i><b>9.7</b> Training- vs. Test-Stichprobe</a></li>
<li class="chapter" data-level="9.8" data-path="mod1.html"><a href="mod1.html#wann-welches-modell"><i class="fa fa-check"></i><b>9.8</b> Wann welches Modell?</a></li>
<li class="chapter" data-level="9.9" data-path="mod1.html"><a href="mod1.html#modellgute"><i class="fa fa-check"></i><b>9.9</b> Modellgüte</a></li>
<li class="chapter" data-level="9.10" data-path="mod1.html"><a href="mod1.html#auswahl-von-pradiktoren"><i class="fa fa-check"></i><b>9.10</b> Auswahl von Prädiktoren</a></li>
<li class="chapter" data-level="9.11" data-path="mod1.html"><a href="mod1.html#aufgaben-10"><i class="fa fa-check"></i><b>9.11</b> Aufgaben</a></li>
<li class="chapter" data-level="9.12" data-path="mod1.html"><a href="mod1.html#befehlsubersicht-5"><i class="fa fa-check"></i><b>9.12</b> Befehlsübersicht</a></li>
<li class="chapter" data-level="9.13" data-path="mod1.html"><a href="mod1.html#verweise-4"><i class="fa fa-check"></i><b>9.13</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html"><i class="fa fa-check"></i><b>10</b> Der p-Wert, Inferenzstatistik und Alternativen</a><ul>
<li class="chapter" data-level="10.1" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#der-p-wert-sagt-nicht-das-was-viele-denken"><i class="fa fa-check"></i><b>10.1</b> Der p-Wert sagt nicht das, was viele denken</a><ul>
<li class="chapter" data-level="10.1.1" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#von-mannern-und-papsten"><i class="fa fa-check"></i><b>10.1.1</b> Von Männern und Päpsten</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#der-p-wert-ist-eine-funktion-der-stichprobengroe"><i class="fa fa-check"></i><b>10.2</b> Der p-Wert ist eine Funktion der Stichprobengröße</a></li>
<li class="chapter" data-level="10.3" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#mythen-zum-p-wert"><i class="fa fa-check"></i><b>10.3</b> Mythen zum p-Wert</a><ul>
<li class="chapter" data-level="10.3.1" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#wann-welcher-inferenztest"><i class="fa fa-check"></i><b>10.3.1</b> Wann welcher Inferenztest?</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#zur-philosophie-des-p-werts-frequentismus"><i class="fa fa-check"></i><b>10.4</b> Zur Philosophie des p-Werts: Frequentismus</a></li>
<li class="chapter" data-level="10.5" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#alternativen-zum-p-wert"><i class="fa fa-check"></i><b>10.5</b> Alternativen zum p-Wert</a><ul>
<li class="chapter" data-level="10.5.1" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#konfidenzintervalle"><i class="fa fa-check"></i><b>10.5.1</b> Konfidenzintervalle</a></li>
<li class="chapter" data-level="10.5.2" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#effektstarke"><i class="fa fa-check"></i><b>10.5.2</b> Effektstärke</a></li>
<li class="chapter" data-level="10.5.3" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#bayes-statistik"><i class="fa fa-check"></i><b>10.5.3</b> Bayes-Statistik</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#fazit"><i class="fa fa-check"></i><b>10.6</b> Fazit</a></li>
<li class="chapter" data-level="10.7" data-path="der-p-wert-inferenzstatistik-und-alternativen.html"><a href="der-p-wert-inferenzstatistik-und-alternativen.html#verweise-5"><i class="fa fa-check"></i><b>10.7</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="lineare-regression.html"><a href="lineare-regression.html"><i class="fa fa-check"></i><b>11</b> Lineare Regression</a><ul>
<li class="chapter" data-level="11.1" data-path="lineare-regression.html"><a href="lineare-regression.html#die-idee-der-klassischen-regression"><i class="fa fa-check"></i><b>11.1</b> Die Idee der klassischen Regression</a></li>
<li class="chapter" data-level="11.2" data-path="lineare-regression.html"><a href="lineare-regression.html#vorhersagegute"><i class="fa fa-check"></i><b>11.2</b> Vorhersagegüte</a><ul>
<li class="chapter" data-level="11.2.1" data-path="lineare-regression.html"><a href="lineare-regression.html#mittlere-quadratfehler"><i class="fa fa-check"></i><b>11.2.1</b> Mittlere Quadratfehler</a></li>
<li class="chapter" data-level="11.2.2" data-path="lineare-regression.html"><a href="lineare-regression.html#r-quadrat-r2"><i class="fa fa-check"></i><b>11.2.2</b> R-Quadrat (<span class="math inline">\(R^2\)</span>)</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="lineare-regression.html"><a href="lineare-regression.html#die-regression-an-einem-beispiel-erlautert"><i class="fa fa-check"></i><b>11.3</b> Die Regression an einem Beispiel erläutert</a></li>
<li class="chapter" data-level="11.4" data-path="lineare-regression.html"><a href="lineare-regression.html#uberprufung-der-annahmen-der-linearen-regression"><i class="fa fa-check"></i><b>11.4</b> Überprüfung der Annahmen der linearen Regression</a></li>
<li class="chapter" data-level="11.5" data-path="lineare-regression.html"><a href="lineare-regression.html#regression-mit-kategorialen-pradiktoren"><i class="fa fa-check"></i><b>11.5</b> Regression mit kategorialen Prädiktoren</a></li>
<li class="chapter" data-level="11.6" data-path="lineare-regression.html"><a href="lineare-regression.html#multiple-regression"><i class="fa fa-check"></i><b>11.6</b> Multiple Regression</a></li>
<li class="chapter" data-level="11.7" data-path="lineare-regression.html"><a href="lineare-regression.html#interaktionen"><i class="fa fa-check"></i><b>11.7</b> Interaktionen</a></li>
<li class="chapter" data-level="11.8" data-path="lineare-regression.html"><a href="lineare-regression.html#overfitting-casestudy"><i class="fa fa-check"></i><b>11.8</b> Fallstudie zu Overfitting</a></li>
<li class="chapter" data-level="11.9" data-path="lineare-regression.html"><a href="lineare-regression.html#befehlsubersicht-6"><i class="fa fa-check"></i><b>11.9</b> Befehlsübersicht</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html"><i class="fa fa-check"></i><b>12</b> Klassifizierende Regression</a><ul>
<li class="chapter" data-level="12.1" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#vorbereitung"><i class="fa fa-check"></i><b>12.1</b> Vorbereitung</a></li>
<li class="chapter" data-level="12.2" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#problemstellung"><i class="fa fa-check"></i><b>12.2</b> Problemstellung</a></li>
<li class="chapter" data-level="12.3" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#die-idee-der-logistischen-regression"><i class="fa fa-check"></i><b>12.3</b> Die Idee der logistischen Regression</a></li>
<li class="chapter" data-level="12.4" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#kein-r2-dafur-aic"><i class="fa fa-check"></i><b>12.4</b> Kein <span class="math inline">\(R^2\)</span>, dafür AIC</a></li>
<li class="chapter" data-level="12.5" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#interpretation-der-koeffizienten"><i class="fa fa-check"></i><b>12.5</b> Interpretation der Koeffizienten</a><ul>
<li class="chapter" data-level="12.5.1" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#y-achsenabschnitt-intercept-beta_0"><i class="fa fa-check"></i><b>12.5.1</b> y-Achsenabschnitt (<code>Intercept</code>) <span class="math inline">\(\beta_0\)</span></a></li>
<li class="chapter" data-level="12.5.2" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#steigung-beta_i-mit-i12...k"><i class="fa fa-check"></i><b>12.5.2</b> Steigung <span class="math inline">\(\beta_i\)</span> mit <span class="math inline">\(i=1,2,...,K\)</span></a></li>
<li class="chapter" data-level="12.5.3" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#aufgabe"><i class="fa fa-check"></i><b>12.5.3</b> Aufgabe</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#kategoriale-pradiktoren"><i class="fa fa-check"></i><b>12.6</b> Kategoriale Prädiktoren</a></li>
<li class="chapter" data-level="12.7" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#multiple-logistische-regression"><i class="fa fa-check"></i><b>12.7</b> Multiple logistische Regression</a></li>
<li class="chapter" data-level="12.8" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#modellgute-1"><i class="fa fa-check"></i><b>12.8</b> Modellgüte</a></li>
<li class="chapter" data-level="12.9" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#klassifikationskennzahlen"><i class="fa fa-check"></i><b>12.9</b> Klassifikationskennzahlen</a><ul>
<li class="chapter" data-level="12.9.1" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#vier-arten-von-ergebnissen-einer-klassifikation"><i class="fa fa-check"></i><b>12.9.1</b> Vier Arten von Ergebnissen einer Klassifikation</a></li>
<li class="chapter" data-level="12.9.2" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#klassifikationsgutekennzahlen"><i class="fa fa-check"></i><b>12.9.2</b> Klassifikationsgütekennzahlen</a></li>
<li class="chapter" data-level="12.9.3" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#roc-kurven"><i class="fa fa-check"></i><b>12.9.3</b> ROC-Kurven</a></li>
</ul></li>
<li class="chapter" data-level="12.10" data-path="klassifizierende-regression.html"><a href="klassifizierende-regression.html#befehlsubersicht-7"><i class="fa fa-check"></i><b>12.10</b> Befehlsübersicht</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html"><i class="fa fa-check"></i><b>13</b> Fallstudien zum geleiteten Modellieren</a><ul>
<li class="chapter" data-level="13.1" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#uberleben-auf-der-titanic"><i class="fa fa-check"></i><b>13.1</b> Überleben auf der Titanic</a><ul>
<li class="chapter" data-level="13.1.1" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#daten-und-pakete-laden"><i class="fa fa-check"></i><b>13.1.1</b> Daten und Pakete laden</a></li>
<li class="chapter" data-level="13.1.2" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#erster-blick"><i class="fa fa-check"></i><b>13.1.2</b> Erster Blick</a></li>
<li class="chapter" data-level="13.1.3" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#welche-variablen-sind-interessant"><i class="fa fa-check"></i><b>13.1.3</b> Welche Variablen sind interessant?</a></li>
<li class="chapter" data-level="13.1.4" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#univariate-haufigkeiten"><i class="fa fa-check"></i><b>13.1.4</b> Univariate Häufigkeiten</a></li>
<li class="chapter" data-level="13.1.5" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#bivariate-haufigkeiten"><i class="fa fa-check"></i><b>13.1.5</b> Bivariate Häufigkeiten</a></li>
<li class="chapter" data-level="13.1.6" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#signifikanztest"><i class="fa fa-check"></i><b>13.1.6</b> Signifikanztest</a></li>
<li class="chapter" data-level="13.1.7" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#effektstarke-1"><i class="fa fa-check"></i><b>13.1.7</b> Effektstärke</a></li>
<li class="chapter" data-level="13.1.8" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#logististische-regression"><i class="fa fa-check"></i><b>13.1.8</b> Logististische Regression</a></li>
<li class="chapter" data-level="13.1.9" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#effektstarken-visualieren"><i class="fa fa-check"></i><b>13.1.9</b> Effektstärken visualieren</a></li>
<li class="chapter" data-level="13.1.10" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#fazit-1"><i class="fa fa-check"></i><b>13.1.10</b> Fazit</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#auereheliche-affaren"><i class="fa fa-check"></i><b>13.2</b> Außereheliche Affären</a><ul>
<li class="chapter" data-level="13.2.1" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#zentrale-statistiken"><i class="fa fa-check"></i><b>13.2.1</b> Zentrale Statistiken</a></li>
<li class="chapter" data-level="13.2.2" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#visualisieren"><i class="fa fa-check"></i><b>13.2.2</b> Visualisieren</a></li>
<li class="chapter" data-level="13.2.3" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#wer-ist-zufriedener-mit-der-partnerschaft-personen-mit-kindern-oder-ohne"><i class="fa fa-check"></i><b>13.2.3</b> Wer ist zufriedener mit der Partnerschaft: Personen mit Kindern oder ohne?</a></li>
<li class="chapter" data-level="13.2.4" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#wie-viele-fehlende-werte-gibt-es"><i class="fa fa-check"></i><b>13.2.4</b> Wie viele fehlende Werte gibt es?</a></li>
<li class="chapter" data-level="13.2.5" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#wer-ist-glucklicher-manner-oder-frauen"><i class="fa fa-check"></i><b>13.2.5</b> Wer ist glücklicher: Männer oder Frauen?</a></li>
<li class="chapter" data-level="13.2.6" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#effektstarken"><i class="fa fa-check"></i><b>13.2.6</b> Effektstärken</a></li>
<li class="chapter" data-level="13.2.7" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#korrelationen"><i class="fa fa-check"></i><b>13.2.7</b> Korrelationen</a></li>
<li class="chapter" data-level="13.2.8" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#ehejahre-und-affaren"><i class="fa fa-check"></i><b>13.2.8</b> Ehejahre und Affären</a></li>
<li class="chapter" data-level="13.2.9" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#ehezufriedenheit-als-pradiktor"><i class="fa fa-check"></i><b>13.2.9</b> Ehezufriedenheit als Prädiktor</a></li>
<li class="chapter" data-level="13.2.10" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#weitere-pradiktoren-der-affarenhaufigkeit"><i class="fa fa-check"></i><b>13.2.10</b> Weitere Prädiktoren der Affärenhäufigkeit</a></li>
<li class="chapter" data-level="13.2.11" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#unterschied-zwischen-den-geschlechtern"><i class="fa fa-check"></i><b>13.2.11</b> Unterschied zwischen den Geschlechtern</a></li>
<li class="chapter" data-level="13.2.12" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#kinderlose-ehe-vs.ehen-mit-kindern"><i class="fa fa-check"></i><b>13.2.12</b> Kinderlose Ehe vs. Ehen mit Kindern</a></li>
<li class="chapter" data-level="13.2.13" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#halodries"><i class="fa fa-check"></i><b>13.2.13</b> Halodries</a></li>
<li class="chapter" data-level="13.2.14" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#logistische-regression"><i class="fa fa-check"></i><b>13.2.14</b> logistische Regression</a></li>
<li class="chapter" data-level="13.2.15" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#zum-abschluss"><i class="fa fa-check"></i><b>13.2.15</b> Zum Abschluss</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="fallstudien-zum-geleiteten-modellieren.html"><a href="fallstudien-zum-geleiteten-modellieren.html#befehlsubersicht-8"><i class="fa fa-check"></i><b>13.3</b> Befehlsübersicht</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="cluster.html"><a href="cluster.html"><i class="fa fa-check"></i><b>14</b> Vertiefung: Clusteranalyse</a><ul>
<li class="chapter" data-level="14.1" data-path="cluster.html"><a href="cluster.html#einfuhrung"><i class="fa fa-check"></i><b>14.1</b> Einführung</a></li>
<li class="chapter" data-level="14.2" data-path="cluster.html"><a href="cluster.html#intuitive-darstellung-der-clusteranalayse"><i class="fa fa-check"></i><b>14.2</b> Intuitive Darstellung der Clusteranalayse</a></li>
<li class="chapter" data-level="14.3" data-path="cluster.html"><a href="cluster.html#euklidische-distanz"><i class="fa fa-check"></i><b>14.3</b> Euklidische Distanz</a></li>
<li class="chapter" data-level="14.4" data-path="rahmen.html"><a href="rahmen.html#daten"><i class="fa fa-check"></i><b>14.4</b> Daten</a></li>
<li class="chapter" data-level="14.5" data-path="cluster.html"><a href="cluster.html#distanzmae-mit-r-berechnen"><i class="fa fa-check"></i><b>14.5</b> Distanzmaße mit R berechnen</a></li>
<li class="chapter" data-level="14.6" data-path="cluster.html"><a href="cluster.html#k-means-clusteranalyse"><i class="fa fa-check"></i><b>14.6</b> k-Means Clusteranalyse</a></li>
<li class="chapter" data-level="14.7" data-path="cluster.html"><a href="cluster.html#aufgaben-11"><i class="fa fa-check"></i><b>14.7</b> Aufgaben</a></li>
<li class="chapter" data-level="14.8" data-path="cluster.html"><a href="cluster.html#befehlsubersicht-9"><i class="fa fa-check"></i><b>14.8</b> Befehlsübersicht</a></li>
<li class="chapter" data-level="14.9" data-path="cluster.html"><a href="cluster.html#verweise-6"><i class="fa fa-check"></i><b>14.9</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html"><i class="fa fa-check"></i><b>15</b> Vertiefung: Dimensionsreduktion</a><ul>
<li class="chapter" data-level="15.1" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#einfuhrung-1"><i class="fa fa-check"></i><b>15.1</b> Einführung</a></li>
<li class="chapter" data-level="15.2" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#grunde-fur-die-notwendigkeit-der-datenreduktion"><i class="fa fa-check"></i><b>15.2</b> Gründe für die Notwendigkeit der Datenreduktion</a></li>
<li class="chapter" data-level="15.3" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#intuition-zur-dimensionsreduktion"><i class="fa fa-check"></i><b>15.3</b> Intuition zur Dimensionsreduktion</a></li>
<li class="chapter" data-level="15.4" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#daten-1"><i class="fa fa-check"></i><b>15.4</b> Daten</a></li>
<li class="chapter" data-level="15.5" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#neuskalierung-der-daten"><i class="fa fa-check"></i><b>15.5</b> Neuskalierung der Daten</a></li>
<li class="chapter" data-level="15.6" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#zusammenhange-in-den-daten"><i class="fa fa-check"></i><b>15.6</b> Zusammenhänge in den Daten</a></li>
<li class="chapter" data-level="15.7" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#daten-mit-fehlende-werten"><i class="fa fa-check"></i><b>15.7</b> Daten mit fehlende Werten</a></li>
<li class="chapter" data-level="15.8" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#hauptkomponentenanalyse-pca"><i class="fa fa-check"></i><b>15.8</b> Hauptkomponentenanalyse (PCA)</a><ul>
<li class="chapter" data-level="15.8.1" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#bestimmung-der-anzahl-der-hauptkomponenten"><i class="fa fa-check"></i><b>15.8.1</b> Bestimmung der Anzahl der Hauptkomponenten</a></li>
<li class="chapter" data-level="15.8.2" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#scree-plot"><i class="fa fa-check"></i><b>15.8.2</b> Scree-Plot</a></li>
<li class="chapter" data-level="15.8.3" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#ellbogen-kriterium"><i class="fa fa-check"></i><b>15.8.3</b> Ellbogen-Kriterium</a></li>
<li class="chapter" data-level="15.8.4" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#eigenwert-kriterium"><i class="fa fa-check"></i><b>15.8.4</b> Eigenwert-Kriterium</a></li>
<li class="chapter" data-level="15.8.5" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#biplot"><i class="fa fa-check"></i><b>15.8.5</b> Biplot</a></li>
<li class="chapter" data-level="15.8.6" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#aufgaben-12"><i class="fa fa-check"></i><b>15.8.6</b> Aufgaben</a></li>
<li class="chapter" data-level="15.8.7" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#interpretation-der-ergebnisse-der-pca"><i class="fa fa-check"></i><b>15.8.7</b> Interpretation der Ergebnisse der PCA</a></li>
</ul></li>
<li class="chapter" data-level="15.9" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#exploratorische-faktorenanalyse-efa"><i class="fa fa-check"></i><b>15.9</b> Exploratorische Faktorenanalyse (EFA)</a><ul>
<li class="chapter" data-level="15.9.1" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#finden-einer-efa-losung"><i class="fa fa-check"></i><b>15.9.1</b> Finden einer EFA Lösung</a></li>
<li class="chapter" data-level="15.9.2" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#schatzung-der-efa"><i class="fa fa-check"></i><b>15.9.2</b> Schätzung der EFA</a></li>
<li class="chapter" data-level="15.9.3" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#vertiefung-heatmap-mit-ladungen"><i class="fa fa-check"></i><b>15.9.3</b> Vertiefung: Heatmap mit Ladungen</a></li>
<li class="chapter" data-level="15.9.4" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#berechnung-der-faktor-scores"><i class="fa fa-check"></i><b>15.9.4</b> Berechnung der Faktor-Scores</a></li>
</ul></li>
<li class="chapter" data-level="15.10" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#interne-konsistenz-der-skalen"><i class="fa fa-check"></i><b>15.10</b> Interne Konsistenz der Skalen</a></li>
<li class="chapter" data-level="15.11" data-path="vertiefung-dimensionsreduktion.html"><a href="vertiefung-dimensionsreduktion.html#befehlsubersicht-10"><i class="fa fa-check"></i><b>15.11</b> Befehlsübersicht</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="vertiefung-textmining.html"><a href="vertiefung-textmining.html"><i class="fa fa-check"></i><b>16</b> Vertiefung: Textmining</a><ul>
<li class="chapter" data-level="16.1" data-path="vertiefung-textmining.html"><a href="vertiefung-textmining.html#zentrale-begriffe"><i class="fa fa-check"></i><b>16.1</b> Zentrale Begriffe</a></li>
<li class="chapter" data-level="16.2" data-path="vertiefung-textmining.html"><a href="vertiefung-textmining.html#grundlegende-analyse"><i class="fa fa-check"></i><b>16.2</b> Grundlegende Analyse</a><ul>
<li class="chapter" data-level="16.2.1" data-path="vertiefung-textmining.html"><a href="vertiefung-textmining.html#tidy-text-dataframes"><i class="fa fa-check"></i><b>16.2.1</b> Tidy Text Dataframes</a></li>
<li class="chapter" data-level="16.2.2" data-path="vertiefung-textmining.html"><a href="vertiefung-textmining.html#text-daten-einlesen"><i class="fa fa-check"></i><b>16.2.2</b> Text-Daten einlesen</a></li>
<li class="chapter" data-level="16.2.3" data-path="vertiefung-textmining.html"><a href="vertiefung-textmining.html#worthaufigkeiten-auszahlen"><i class="fa fa-check"></i><b>16.2.3</b> Worthäufigkeiten auszählen</a></li>
<li class="chapter" data-level="16.2.4" data-path="vertiefung-textmining.html"><a href="vertiefung-textmining.html#visualisierung"><i class="fa fa-check"></i><b>16.2.4</b> Visualisierung</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="vertiefung-textmining.html"><a href="vertiefung-textmining.html#aufgaben-13"><i class="fa fa-check"></i><b>16.3</b> Aufgaben</a></li>
<li class="chapter" data-level="16.4" data-path="vertiefung-textmining.html"><a href="vertiefung-textmining.html#befehlsubersicht-11"><i class="fa fa-check"></i><b>16.4</b> Befehlsübersicht</a></li>
<li class="chapter" data-level="16.5" data-path="vertiefung-textmining.html"><a href="vertiefung-textmining.html#verweise-7"><i class="fa fa-check"></i><b>16.5</b> Verweise</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="probeklausur.html"><a href="probeklausur.html"><i class="fa fa-check"></i><b>17</b> Probeklausur</a><ul>
<li class="chapter" data-level="17.1" data-path="probeklausur.html"><a href="probeklausur.html#losungen-1"><i class="fa fa-check"></i><b>17.1</b> Lösungen</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="hinweise-1.html"><a href="hinweise-1.html"><i class="fa fa-check"></i><b>18</b> Hinweise</a><ul>
<li class="chapter" data-level="18.1" data-path="hinweise-1.html"><a href="hinweise-1.html#icons"><i class="fa fa-check"></i><b>18.1</b> Icons</a></li>
<li class="chapter" data-level="18.2" data-path="hinweise-1.html"><a href="hinweise-1.html#voraussetzungen"><i class="fa fa-check"></i><b>18.2</b> Voraussetzungen</a></li>
<li class="chapter" data-level="18.3" data-path="hinweise-1.html"><a href="hinweise-1.html#zitationen"><i class="fa fa-check"></i><b>18.3</b> Zitationen</a></li>
<li class="chapter" data-level="18.4" data-path="hinweise-1.html"><a href="hinweise-1.html#lizenz"><i class="fa fa-check"></i><b>18.4</b> Lizenz</a></li>
<li class="chapter" data-level="18.5" data-path="hinweise-1.html"><a href="hinweise-1.html#autoren"><i class="fa fa-check"></i><b>18.5</b> Autoren</a></li>
<li class="chapter" data-level="18.6" data-path="hinweise-1.html"><a href="hinweise-1.html#danke"><i class="fa fa-check"></i><b>18.6</b> Danke</a></li>
<li class="chapter" data-level="18.7" data-path="hinweise-1.html"><a href="hinweise-1.html#zitation-dieses-skripts"><i class="fa fa-check"></i><b>18.7</b> Zitation dieses Skripts</a></li>
<li class="chapter" data-level="18.8" data-path="hinweise-1.html"><a href="hinweise-1.html#kontakt"><i class="fa fa-check"></i><b>18.8</b> Kontakt</a></li>
<li class="chapter" data-level="18.9" data-path="hinweise-1.html"><a href="hinweise-1.html#technische-details"><i class="fa fa-check"></i><b>18.9</b> Technische Details</a></li>
<li class="chapter" data-level="18.10" data-path="hinweise-1.html"><a href="hinweise-1.html#sonstiges"><i class="fa fa-check"></i><b>18.10</b> Sonstiges</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="literaturverzeichnis.html"><a href="literaturverzeichnis.html"><i class="fa fa-check"></i><b>19</b> Literaturverzeichnis</a></li>
<li class="chapter" data-level="" data-path="literaturverzeichnis-1.html"><a href="literaturverzeichnis-1.html"><i class="fa fa-check"></i>Literaturverzeichnis</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Praxis der Datenanalyse ENTWURF</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="klassifizierende-regression" class="section level1">
<h1><span class="header-section-number">Kapitel 12</span> Klassifizierende Regression</h1>
<p><img src="images/FOM.jpg" width="30%" style="display: block; margin: auto;" /></p>
<p><img src="images/licence.png" width="10%" style="display: block; margin: auto;" /></p>

<div class="rmdcaution">
<p>Lernziele:</p>
<ul>
<li>Die Idee der logistischen Regression verstehen.</li>
<li>Die Koeffizienten der logistischen Regression interpretieren können.</li>
<li>Die Modellgüte einer logistischten Regression einschätzen können.</li>
<li>Klassifikatorische Kennzahlen kennen und beurteilen können.</li>
</ul>
</div>
<p></p>
<p>Für dieses Kapitel benötigen Sie folgende Pakete:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(SDMTools)  <span class="co"># Güte von Klassifikationsmodellen</span>
<span class="kw">library</span>(pROC)  <span class="co"># für ROC- und AUC-Berechnung</span>
<span class="kw">library</span>(tidyverse)  <span class="co"># Datenjudo</span>
<span class="kw">library</span>(BaylorEdPsych)  <span class="co"># Pseudo-R-Quadrat</span></code></pre></div>
<div id="vorbereitung" class="section level2">
<h2><span class="header-section-number">12.1</span> Vorbereitung</h2>
<p>Hier werden wir den Datensatz <em>Aktienkauf</em> der Universität Zürich (<a href="http://www.methodenberatung.uzh.ch/de/datenanalyse/zusammenhaenge/lreg.html">Universität Zürich, Methodenberatung</a>) analysieren. Es handelt es sich um eine finanzpsychologische Fragestellung. Es wurde untersucht, welche Variablen mit der Wahrscheinlichkeit, dass jemand Aktien erwirbt, zusammenhängen. Insgesamt wurden 700 Personen befragt. Folgende Daten wurden erhoben:</p>
<ul>
<li>Aktienkauf (0 = nein, 1 = ja)</li>
<li>Jahreseinkommen (in Tausend CHF),</li>
<li>Risikobereitschaft (Skala von 0 bis 25)</li>
<li>Interesse an der aktuellen Marktlage (Skala von 0 bis 45).</li>
</ul>
<p>Importieren Sie zunächst die Daten.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Aktien &lt;-<span class="st"> </span>readr::<span class="kw">read_csv</span>(<span class="st">&quot;data/Aktien.csv&quot;</span>) %&gt;%<span class="st"> </span>na.omit</code></pre></div>
<p>Um uns das Leben leichter zu machen, haben wir fehlende Werte (<code>NA</code>s) mit <code>na.omit</code> gelöscht.</p>
</div>
<div id="problemstellung" class="section level2">
<h2><span class="header-section-number">12.2</span> Problemstellung</h2>
<p>Können wir anhand der Risikobereitschaft abschätzen, ob die Wahrscheinlichkeit für einen Aktienkauf steigt? Schauen wir uns zunächst ein Streudiagramm an (Abb. <a href="klassifizierende-regression.html#fig:fig-logist-regr1">12.1</a>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">y =</span> Aktienkauf, <span class="dt">x =</span> Risikobereitschaft), <span class="dt">data =</span> Aktien) +<span class="st"> </span><span class="kw">geom_point</span>()
p1</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-logist-regr1"></span>
<img src="072_klassifizierende_Regression_files/figure-html/fig-logist-regr1-1.png" alt="Streudiagramm von Risikobereitschaft und Aktienkauf" width="70%" />
<p class="caption">
Abbildung 12.1: Streudiagramm von Risikobereitschaft und Aktienkauf
</p>
</div>
<p>Berechnen wir dann eine normale Regression.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm1 &lt;-<span class="st"> </span><span class="kw">lm</span>(Aktienkauf ~<span class="st"> </span>Risikobereitschaft, <span class="dt">data =</span> Aktien)
<span class="kw">summary</span>(lm1)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = Aktienkauf ~ Risikobereitschaft, data = Aktien)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -0.684 -0.243 -0.204  0.348  0.814 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                    Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)         0.18246    0.02001    9.12  &lt; 2e-16 ***</span>
<span class="co">#&gt; Risikobereitschaft  0.05083    0.00762    6.67  5.2e-11 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 0.427 on 698 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.0599, Adjusted R-squared:  0.0586 </span>
<span class="co">#&gt; F-statistic: 44.5 on 1 and 698 DF,  p-value: 5.25e-11</span></code></pre></div>
<p>Der Zusammenhang scheint nicht sehr ausgeprägt zu sein. Lassen Sie uns dennoch ein lineare Regression durchführen und das Ergebnis auswerten und graphisch darstellen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
p1 +<span class="st"> </span><span class="kw">geom_abline</span>(<span class="dt">intercept =</span> .<span class="dv">18</span>, <span class="dt">slope =</span> .<span class="dv">05</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-logist-regr2"></span>
<img src="072_klassifizierende_Regression_files/figure-html/fig-logist-regr2-1.png" alt="Regressionsgerade für Aktien-Modell" width="70%" />
<p class="caption">
Abbildung 12.2: Regressionsgerade für Aktien-Modell
</p>
</div>
<p>Der Schätzer für die Steigung für <code>Risikobereitschaft</code> ist signifikant. Das Bestimmtheitsmaß <span class="math inline">\(R^2\)</span> ist allerdings sehr niedrig, aber wir haben bisher ja auch nur eine unabhängige Variable für die Erklärung der abhängigen Variable herangezogen.</p>
<p>Doch was bedeutet es, dass die Wahrscheinlichkeit ab einer Risikobereitsschaft von ca. 16 über 1 liegt?</p>
<p>Wahrscheinlichkeiten müssen zwischen 0 und 1 liegen. Daher brauchen wir eine Funktion, die das Ergebnis einer linearen Regression in einen Bereich von 0 bis 1 “umbiegt” (die sogenannte <em>Linkfunktion</em>). Eine häufig dafür verwendete Funktion ist die <em>logistische Funktion</em>. Im einfachsten Fall:</p>
<p><span class="math display">\[p(y=1)=\frac{e^x}{1+e^x}\]</span></p>
<p>Exemplarisch können wir die logistische Funktion für einen Bereich von <span class="math inline">\(\eta=-10\)</span> bis <span class="math inline">\(+10\)</span> darstellen (vgl. <a href="klassifizierende-regression.html#fig:logist-curve">12.3</a>). Der Graph der logistischen Funktion ähnelt einem langgestreckten S (“Ogive” genannt).</p>
<div class="figure" style="text-align: center"><span id="fig:logist-curve"></span>
<img src="072_klassifizierende_Regression_files/figure-html/logist-curve-1.png" alt="Die logistische Regression beschreibt eine 's-förmige' Kurve" width="70%" />
<p class="caption">
Abbildung 12.3: Die logistische Regression beschreibt eine ‘s-förmige’ Kurve
</p>
</div>
</div>
<div id="die-idee-der-logistischen-regression" class="section level2">
<h2><span class="header-section-number">12.3</span> Die Idee der logistischen Regression</h2>
<p>Die logistische Regression ist eine Anwendung des <em>Allgemeinen Linearen Modells</em> (general linear model, GLM). Die Modellgleichung lautet:</p>
<p><span class="math inline">\(p(y_i=1)=L\bigl(\beta_0+\beta_1\cdot x_{i1}+\dots+\beta_K\cdot x_{ik}\bigr)+\epsilon_i\)</span></p>
<ul>
<li><span class="math inline">\(L\)</span> ist die Linkfunktion, in unserer Anwendung die logistische Funktion.<br />
</li>
<li><span class="math inline">\(x_{ik}\)</span> sind die beobachten Werte der unabhängigen Variablen <span class="math inline">\(X_k\)</span>.<br />
</li>
<li><span class="math inline">\(k\)</span> sind die unabhängigen Variablen <span class="math inline">\(1\)</span> bis <span class="math inline">\(K\)</span>.</li>
</ul>
<p>Die Funktion <code>glm</code> führt die logistische Regression durch.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">glm1 &lt;-<span class="st"> </span><span class="kw">glm</span>(Aktienkauf ~<span class="st"> </span>Risikobereitschaft, 
            <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="st">&quot;logit&quot;</span>),
            <span class="dt">data =</span> Aktien)</code></pre></div>
<p>Wir schauen uns zunächst den Plot an (Abb. <a href="klassifizierende-regression.html#fig:aktien-plot">12.4</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:aktien-plot"></span>
<img src="072_klassifizierende_Regression_files/figure-html/aktien-plot-1.png" alt="Modelldiagramm für den Aktien-Datensatz" width="70%" />
<p class="caption">
Abbildung 12.4: Modelldiagramm für den Aktien-Datensatz
</p>
</div>
<blockquote>
<p>Es werden ein Streudiagramm der beobachten Werte sowie die <em>Regressionslinie</em> ausgegeben. Wir können so z. B. ablesen, dass ab einer Risikobereitschaft von etwa 7 die Wahrscheinlichkeit für einen Aktienkauf nach unserem Modell bei mehr als 50 % liegt.</p>
</blockquote>
<p>Die Zusammenfassung des Modells zeigt folgendes:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(glm1)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; glm(formula = Aktienkauf ~ Risikobereitschaft, family = binomial(&quot;logit&quot;), </span>
<span class="co">#&gt;     data = Aktien)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;    Min      1Q  Median      3Q     Max  </span>
<span class="co">#&gt; -1.653  -0.738  -0.677   0.825   1.823  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                    Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="co">#&gt; (Intercept)         -1.4689     0.1184   -12.4  &lt; 2e-16 ***</span>
<span class="co">#&gt; Risikobereitschaft   0.2573     0.0468     5.5  3.8e-08 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 804.36  on 699  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 765.86  on 698  degrees of freedom</span>
<span class="co">#&gt; AIC: 769.9</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 4</span></code></pre></div>
<p>Die p-Werte der Koeffizienten können in der Spalte <code>Pr(&gt;|z|)</code> abgelesen werden. Der Achsenabschnitt (<code>intercept</code>) wird mit -1.47 geschätzt, die Steigung in Richtung <code>Risikobereitschaft</code> mit 0.26. Allerdings sind die hier dargestellten Werte sogenannte <em>Logits</em> L:</p>
<p><span class="math inline">\(\mathfrak{L} = ln\left( \frac{p}{1-p} \right)\)</span></p>
<p>Zugeben, dass klingt erstmal opaque. Das praktische ist, dass wir die Koeffizienten in gewohnter Manier verrechnen dürfen. Wollen wir zum Beispiel wissen, welche Wahrscheinlichkeit für Aktienkauf eine Person mit einer Risikobereitschaft von 3 hat, können wir einfach rechnen:</p>
<p><code>y = intercept + 3*Risikobereitschaft</code>, also</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(y &lt;-<span class="st"> </span>-<span class="fl">1.469</span> +<span class="st"> </span><span class="dv">3</span> *<span class="st"> </span><span class="fl">0.257</span>)
<span class="co">#&gt; [1] -0.698</span></code></pre></div>
<p>Einfach, oder? Aber beachten Sie, dass das Ergebnis in <em>Logits</em> angegeben ist. Was ein Logit ist? Naja, der Logarithmus der Chancen (Wahrscheinlichkeit zu Gegenwahrscheinlichkeit, auch <em>Odds</em> genant). Um zur ‘normalen’ Wahrscheinlichkeit zu kommen, muss man also erst ‘delogarithmieren’. Delogarithmieren bedeutet, die e-Funktion anzuwenden, <code>exp</code> auf Errisch:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">exp</span>(y)
<span class="co">#&gt; [1] 0.498</span></code></pre></div>
<p>Jetzt haben wir wir also Chancen. Wie rechnet man Chancen in Wahrscheinlichkeiten um? Ein Beispiel zur Illustration. Bei Prof. Schnaggeldi fallen von 10 Studenten 9 durch. Die Durchfall<em>chance</em> ist also 9:1 oder 9. Die Durchfall<em>wahrscheinlichkeit</em> 9/10 oder .9. Also kann man so umrechnen:</p>
<p><code>wskt = 9 / (9+1) = 9/10 = .9</code>.</p>
<p>In unserem Fall sind die Chancen 0.322; also lautet die Umrechnung:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(wskt &lt;-<span class="st"> </span>.<span class="dv">498</span> /<span class="st"> </span>(.<span class="dv">498+1</span>))
<span class="co">#&gt; [1] 0.332</span></code></pre></div>
<p>Diesen Ritt kann man sich merklich kommoder bereiten, wenn man diesen Befehl kennt:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">predict</span>(glm1, <span class="dt">newdata =</span> <span class="kw">data.frame</span>(<span class="dt">Risikobereitschaft =</span> <span class="dv">3</span>), <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
<span class="co">#&gt;     1 </span>
<span class="co">#&gt; 0.332</span></code></pre></div>
</div>
<div id="kein-r2-dafur-aic" class="section level2">
<h2><span class="header-section-number">12.4</span> Kein <span class="math inline">\(R^2\)</span>, dafür AIC</h2>
<p>Es gibt kein <span class="math inline">\(R^2\)</span> im Sinne einer erklärten Streuung der <span class="math inline">\(y\)</span>-Werte, da die beobachteten <span class="math inline">\(y\)</span>-Werte nur <span class="math inline">\(0\)</span> oder <span class="math inline">\(1\)</span> annehmen können. Das Gütemaß bei der logistischen Regression ist das <em>Akaike Information Criterion</em> (<em>AIC</em>). Hier gilt allerdings: je <strong>kleiner</strong>, desto <strong>besser</strong>. (Anmerkung: es kann ein Pseudo-<span class="math inline">\(R^2\)</span> berechnet werden – kommt später.) Richtlinien, was ein “guter” AIC-Wert ist, gibt es nicht. Diese Werte helfen nur beim Vergleichen von Modellen.</p>
</div>
<div id="interpretation-der-koeffizienten" class="section level2">
<h2><span class="header-section-number">12.5</span> Interpretation der Koeffizienten</h2>
<p>Ist ein Logit <span class="math inline">\(\mathfrak{L}\)</span> größer als <span class="math inline">\(0\)</span>, so ist die zugehörige Wahrscheinlichkeit größer als 50% (und umgekehrt.)</p>
<div id="y-achsenabschnitt-intercept-beta_0" class="section level3">
<h3><span class="header-section-number">12.5.1</span> y-Achsenabschnitt (<code>Intercept</code>) <span class="math inline">\(\beta_0\)</span></h3>
<p>Für <span class="math inline">\(\beta_0&gt;0\)</span> gilt, dass selbst wenn alle anderen unabhängigen Variablen <span class="math inline">\(0\)</span> sind, es eine Wahrscheinlichkeit von mehr als 50% gibt, dass das modellierte Ereignis eintritt. Für <span class="math inline">\(\beta_0&lt;0\)</span> gilt entsprechend das Umgekehrte.</p>
</div>
<div id="steigung-beta_i-mit-i12...k" class="section level3">
<h3><span class="header-section-number">12.5.2</span> Steigung <span class="math inline">\(\beta_i\)</span> mit <span class="math inline">\(i=1,2,...,K\)</span></h3>
<p>Für <span class="math inline">\(\beta_i&gt;0\)</span> gilt, dass mit zunehmenden <span class="math inline">\(x_i\)</span> die Wahrscheinlichkeit für das modellierte Ereignis steigt. Bei <span class="math inline">\(\beta_i&lt;0\)</span> nimmt die Wahrscheinlichkeit entsprechend ab.</p>
</div>
<div id="aufgabe" class="section level3">
<h3><span class="header-section-number">12.5.3</span> Aufgabe</h3>
<p>Berechnen Sie das relative Risiko für unser Beispielmodell, wenn sich die <code>Risikobereitschaft</code> um 1 erhöht (Funktion <code>exp()</code>). Vergleichen Sie das Ergebnis mit der Punktprognose für <code>Risikobereitschaft</code><span class="math inline">\(=7\)</span> im Vergleich zu <code>Risikobereitschaft</code><span class="math inline">\(=8\)</span>.</p>
<p>Lösung:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># aus Koeffizient abgeschätzt</span>
<span class="kw">exp</span>(<span class="kw">coef</span>(glm1)[<span class="dv">2</span>])
<span class="co">#&gt; Risikobereitschaft </span>
<span class="co">#&gt;               1.29</span></code></pre></div>
<p>In Worten: “Mit jedem Punkt mehr Risikobereitschaft steigen die Chancen (das OR) für Aktienkauf um 1.293”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># mit dem vollständigen Modell berechnet</span>
<span class="kw">predict</span>(glm1, <span class="kw">data.frame</span>(<span class="dt">Risikobereitschaft =</span> <span class="dv">1</span>), 
        <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
<span class="co">#&gt;     1 </span>
<span class="co">#&gt; 0.229</span>

<span class="kw">predict</span>(glm1, <span class="kw">data.frame</span>(<span class="dt">Risikobereitschaft =</span> <span class="dv">8</span>), 
        <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
<span class="co">#&gt;     1 </span>
<span class="co">#&gt; 0.643</span></code></pre></div>
<p>Bei einer Risikobereitschaft von 1 beträgt die Wahrscheinlichkeit für <span class="math inline">\(y=1\)</span>, d.h. für das Ereignis “Aktienkauf”, 0.23. Bei einer Risikobereitschaft von 8 liegt diese Wahrscheinlichkeit bei 0.64.</p>
<p>Sie sehen also, die ungefähr abgeschätzte Änderung der Wahrscheinlichkeit weicht hier doch deutlich von der genau berechneten Änderung ab. Der Anteil der Datensätze mit <code>Risikobereitschaft</code><span class="math inline">\(=1\)</span> liegt allerdings auch bei 0.26.</p>
</div>
</div>
<div id="kategoriale-pradiktoren" class="section level2">
<h2><span class="header-section-number">12.6</span> Kategoriale Prädiktoren</h2>
<p>Wie in der linearen Regression können auch in der logistschen Regression kategoriale Variablen als unabhängige Variablen genutzt werden.</p>
<p>Betrachten wir als Beispiel die Frage, ob die kategoriale Variable “Interessiert” (genauer: dichotome Variable) einen Einfluss auf das Bestehen in der Klausur hat, also die Wahrscheinlichkeit für Bestehen erhöht.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stats_test &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/test_inf_short.csv&quot;</span>)

stats_test$interessiert &lt;-<span class="st"> </span>stats_test$interest &gt;<span class="st"> </span><span class="dv">3</span></code></pre></div>
<p>Zunächst ein Plot (Abb. <a href="#fig:jitter-stats-logist"><strong>??</strong></a>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
stats_test %&gt;%<span class="st"> </span>
<span class="st">  </span>na.omit %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>() +
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> interessiert, <span class="dt">y =</span> bestanden) +
<span class="st">  </span><span class="kw">geom_jitter</span>(<span class="dt">width =</span> .<span class="dv">1</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:jjitter-stats-logist"></span>
<img src="072_klassifizierende_Regression_files/figure-html/jjitter-stats-logist-1.png" alt="Verwackeltes Streudiagramm ('Jitter')" width="70%" />
<p class="caption">
Abbildung 12.5: Verwackeltes Streudiagramm (‘Jitter’)
</p>
</div>
<p>Eine Sache sollten wir noch ändern: Auf der Y-Achse (<code>bestanden</code>) steht unten “ja” und oben “nein”. Für unsere logistische Regression macht es aber genau anders herum Sinn: <code>bestanden==&quot;ja&quot;) soll oben stehen.</code>bestanden` ist eine Variable vom Typ ‘Faktor’:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(stats_test$bestanden)
<span class="co">#&gt;  Factor w/ 2 levels &quot;ja&quot;,&quot;nein&quot;: 1 1 1 2 1 1 1 2 1 1 ...</span></code></pre></div>
<p>Wir sehen, dass <code>bestanden</code> offenbar zwei Stufen hat (“ja” und “nein”). Die Reihenfolge der Stufen können wir so ändern:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stats_test$bestanden &lt;-<span class="st"> </span><span class="kw">factor</span>(stats_test$bestanden, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;nein&quot;</span>, <span class="st">&quot;ja&quot;</span>))</code></pre></div>
<p>Die neue Reihenfolge ist nicht nur optisch ansprechender, sondern auch für die logistische Regression sinnvoll: R berechnet die Wahrscheinlichkeit für die zweite Stufe (also die “obere” auf der Y-Achse); für R entspricht die erste Stufe 0 und die zweite Stufe 1. Außerdem sollten Achsen stets von wenig (nichts/nein) zu viel (ja) gehen.</p>
<p>Los geht’s, probieren wir die logistische Regression aus:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">log_stats &lt;-<span class="st"> </span><span class="kw">glm</span>(bestanden ~<span class="st"> </span>interessiert, 
               <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="st">&quot;logit&quot;</span>),
               <span class="dt">data =</span> stats_test)
<span class="kw">summary</span>(log_stats)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; glm(formula = bestanden ~ interessiert, family = binomial(&quot;logit&quot;), </span>
<span class="co">#&gt;     data = stats_test)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;    Min      1Q  Median      3Q     Max  </span>
<span class="co">#&gt; -2.034   0.520   0.520   0.633   0.633  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                  Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="co">#&gt; (Intercept)         1.504      0.217    6.94    4e-12 ***</span>
<span class="co">#&gt; interessiertTRUE    0.430      0.377    1.14     0.25    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 209.02  on 237  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 207.68  on 236  degrees of freedom</span>
<span class="co">#&gt;   (68 observations deleted due to missingness)</span>
<span class="co">#&gt; AIC: 211.7</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 4</span></code></pre></div>
<p>Der Einflusswert (die Steigung) von <code>interessiert</code> ist positiv: Wenn man interessiert ist, steigt die Wahrscheinlichkeit zu bestehen. Gut. Aber wie groß ist die Wahrscheinlichkeit für jede Gruppe? Am einfachsten lässt man sich das von R ausrechnen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">predict</span>(log_stats, <span class="dt">newdata =</span> <span class="kw">data.frame</span>(<span class="dt">interessiert =</span> <span class="ot">FALSE</span>), 
        <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
<span class="co">#&gt;     1 </span>
<span class="co">#&gt; 0.818</span>
<span class="kw">predict</span>(log_stats, <span class="dt">newdata =</span> <span class="kw">data.frame</span>(<span class="dt">interessiert =</span> <span class="ot">TRUE</span>), 
        <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
<span class="co">#&gt;     1 </span>
<span class="co">#&gt; 0.874</span></code></pre></div>
<p>Also 82% bzw. 87%; kein gewaltig großer Unterschied.</p>
</div>
<div id="multiple-logistische-regression" class="section level2">
<h2><span class="header-section-number">12.7</span> Multiple logistische Regression</h2>
<p>Wir kehren wieder zurück zu dem Datensatz <em>Aktienkauf</em>. Können wir unser Model <code>glm1</code> mit nur einer erklärenden Variable verbessern, indem weitere unabhängige Variablen hinzugefügt werden?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">glm2 &lt;-<span class="st"> </span><span class="kw">glm</span>(Aktienkauf ~<span class="st"> </span>Risikobereitschaft +<span class="st"> </span>Einkommen +<span class="st"> </span>Interesse, 
            <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="st">&quot;logit&quot;</span>), 
            <span class="dt">data =</span> Aktien)

<span class="kw">summary</span>(glm2)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; glm(formula = Aktienkauf ~ Risikobereitschaft + Einkommen + Interesse, </span>
<span class="co">#&gt;     family = binomial(&quot;logit&quot;), data = Aktien)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;    Min      1Q  Median      3Q     Max  </span>
<span class="co">#&gt; -2.130  -0.715  -0.539   0.518   3.214  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                    Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="co">#&gt; (Intercept)        -1.66791    0.27903   -5.98  2.3e-09 ***</span>
<span class="co">#&gt; Risikobereitschaft  0.34781    0.08822    3.94  8.1e-05 ***</span>
<span class="co">#&gt; Einkommen          -0.02157    0.00564   -3.83  0.00013 ***</span>
<span class="co">#&gt; Interesse           0.08520    0.01775    4.80  1.6e-06 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 804.36  on 699  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 679.01  on 696  degrees of freedom</span>
<span class="co">#&gt; AIC: 687</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 5</span></code></pre></div>
<p>Alle Schätzer sind signifkant zum 0.1 %-Niveau (<code>***</code> in der Ausgabe). Zunehmende Risikobereitschaft (der Einfluss ist im Vergleich zum einfachen Modell stärker geworden) und zunehmendes Interesse erhöhen die Wahrscheinlichkeit für einen Aktienkauf. Steigendes Einkommen hingegen senkt die Wahrscheinlichkeit.</p>
</div>
<div id="modellgute-1" class="section level2">
<h2><span class="header-section-number">12.8</span> Modellgüte</h2>
<p>Aber wie gut ist das Modell? Und welches Modell von beiden ist besser? R hat uns kein <span class="math inline">\(R^2\)</span> ausgegeben. R hat uns deswegen kein <span class="math inline">\(R^2\)</span> ausgegeben, weil die Regressionsfunktion nicht über Abweichungsquadrate bestimmt wird. Stattdessen wird das Maximum Likelihood-Verfahren eingesetzt. Man kann also kein <span class="math inline">\(R^2\)</span> ausrechnen, zumindest nicht ohne Tricks. Einige findige Statistiker haben sich aber Umrechungswege einfallen lassen, wie man auch ohne Abweichungsquadrate ein <span class="math inline">\(R^2\)</span> berechnen kann; weil es kein ‘echtes’ <span class="math inline">\(R^2\)</span> ist, nennt man es auch <em>Pseudo-</em><span class="math inline">\(R^2\)</span>.</p>
<p>Eine Reihe von R-Paketen bieten die Berechnung a:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(BaylorEdPsych)
<span class="kw">PseudoR2</span>(glm1)
<span class="kw">PseudoR2</span>(glm2)</code></pre></div>
<p>Die Ausgabe zeigt uns, dass <code>glm2</code> die Daten besser erklärt als <code>glm1</code>.</p>
</div>
<div id="klassifikationskennzahlen" class="section level2">
<h2><span class="header-section-number">12.9</span> Klassifikationskennzahlen</h2>
<div id="vier-arten-von-ergebnissen-einer-klassifikation" class="section level3">
<h3><span class="header-section-number">12.9.1</span> Vier Arten von Ergebnissen einer Klassifikation</h3>
<p>Logistische Regressionsmodelle werden häufig zur <em>Klassifikation</em> verwendet. Das heißt man versucht, Beobachtungen richtig zu zu Klassen zuzuordnen:</p>
<ul>
<li>Ein medizinischer Test soll Kranke als krank und Gesunde als gesund klassifizieren.</li>
<li>Ein statistischer Test sollte wahre Hypothesen als wahr und falsche Hypothesen als falsch klassifizieren.</li>
<li>Ein Personaler sollte geeignte Bewerber als geeignet und nicht geeignete Bewerber als nicht geeignet einstufen.</li>
</ul>
<p>Diese beiden Arten von Klassifikationen können unterschiedlich gut sein. Im Extremfall könnte ein Test alle Menschen als krank (‘positiv’) einstufen. Mit Sicherheit wurden dann alle Kranken korrekt als krank diagnostiziert. Dummerweise würde der Test ‘auf der anderen Seite’ viele Fehler machen: Gesunde als gesund (‘negativ’) zu klassifizieren.</p>
<blockquote>
<p>Ein Test, der alle positiven Fälle korrekt als positiv klassifiziert muss deshalb noch lange nicht alle negativen Fälle als negativ klassifizieren. Die beiden Werte können unterschiedlich sein.</p>
</blockquote>
<p>Etwas genauer kann man folgende vier Arten von Ergebnisse aus einem Test erwarten (s. Tabelle <a href="klassifizierende-regression.html#tab:class-stats">12.1</a>).</p>
<table>
<caption><span id="tab:class-stats">Tabelle 12.1: </span>Vier Arten von Ergebnisse von Klassfikationen</caption>
<thead>
<tr class="header">
<th align="left">Wahrheit</th>
<th align="left">Als negativ (-) vorhergesagt</th>
<th align="left">Als positiv (+) vorhergesagt</th>
<th align="left">Summe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">In Wahrheit negativ (-)</td>
<td align="left">Richtig negativ (RN)</td>
<td align="left">Falsch positiv (FP)</td>
<td align="left">N</td>
</tr>
<tr class="even">
<td align="left">In Wahrheit positiv (+)</td>
<td align="left">Falsch negativ (FN)</td>
<td align="left">Richtig positiv (RN)</td>
<td align="left">P</td>
</tr>
<tr class="odd">
<td align="left">Summe</td>
<td align="left">N*</td>
<td align="left">P*</td>
<td align="left">N+P</td>
</tr>
</tbody>
</table>
<p>Die logistische Regression gibt uns für jeden Fall eine Wahrscheinlichkeit zurück, dass der Fall zum Ereignis <span class="math inline">\(1\)</span> gehört. Wir müssen dann einen Schwellenwert (threshold) auswählen. Einen Wert also, der bestimmt, ob der Fall zum Ereignis <span class="math inline">\(1\)</span> gehört. Häufigt nimmt man <span class="math inline">\(0.5\)</span>. Liegt die Wahrscheinlichkeit unter dem Schwellenwert, so ordnet man den Fall dem Ereignis <span class="math inline">\(0\)</span> zu.</p>
<p>Beispiel: Alois’ Wahrscheinlichkeit, die Klausur zu bestehen, wird vom Regressionsmodell auf 51% geschätzt. Unser Schwellenwert sei 50%; wir ordnen Alois der Klasse “bestehen” zu. Alois freut sich. Das Modell sagt also “bestehen” (<span class="math inline">\(1\)</span>) für Alois voraus. Man sagt auch, der ‘geschätzte Wert’ (<em>fitted value</em>) von Alois sei <span class="math inline">\(1\)</span>.</p>
<p>Die aus dem Modell ermittelten Wahrscheinlichkeiten werden dann in einer sogenannten Konfusionsmatrix (<em>confusion matrix</em>) mit den beobachteten Häufigkeiten verglichen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(cm &lt;-<span class="st"> </span><span class="kw">confusion.matrix</span>(Aktien$Aktienkauf, glm1$fitted.values)) 
<span class="co">#&gt;     obs</span>
<span class="co">#&gt; pred   0   1</span>
<span class="co">#&gt;    0 509 163</span>
<span class="co">#&gt;    1   8  20</span>
<span class="co">#&gt; attr(,&quot;class&quot;)</span>
<span class="co">#&gt; [1] &quot;confusion.matrix&quot;</span></code></pre></div>
<p>Dabei stehen <code>obs</code> (observed) für die wahren, also tatsächlich beobachteten Werte und <code>pred</code> (predicted) für die geschätzten (vorhergesagten) Werte.</p>
<p>Wie häufig hat unser Modell richtig geschätzt? Genauer: Wie viele echte <span class="math inline">\(1\)</span> hat unser Modell als <span class="math inline">\(1\)</span> vorausgesagt und wie viele echte <span class="math inline">\(0\)</span> hat unser Modell als <span class="math inline">\(0\)</span> vorausgesagt?</p>
</div>
<div id="klassifikationsgutekennzahlen" class="section level3">
<h3><span class="header-section-number">12.9.2</span> Klassifikationsgütekennzahlen</h3>
<p>In der Literatur und Praxis herrscht eine recht wilde Vielfalt an Begriffen dazu, deswegen stellt Tabelle <a href="klassifizierende-regression.html#tab:class-stats">12.1</a> einen Überblick vor.</p>
<table>
<caption><span id="tab:diag-stats">Tabelle 12.2: </span>Geläufige Kennwerte der Klassifikation</caption>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Definition</th>
<th align="left">Synonyme</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Falsch-Positiv-Rate (FP-Rate)</td>
<td align="left">FP/N</td>
<td align="left">Alphafehler, Typ-1-Fehler, 1-Spezifität, Fehlalarm</td>
</tr>
<tr class="even">
<td align="left">Richtig-Positiv-Rate (RP-Rate)</td>
<td align="left">RP/N</td>
<td align="left">Power, Sensitivität, 1-Betafehler, Recall</td>
</tr>
<tr class="odd">
<td align="left">Falsch-Negativ-Rate (FN-Rate)</td>
<td align="left">FN/N</td>
<td align="left">Fehlender Alarm, Befafehler</td>
</tr>
<tr class="even">
<td align="left">Richtig-Negativ-Rate (RN-Rate)</td>
<td align="left">RN/N</td>
<td align="left">Spezifität, 1-Alphafehler</td>
</tr>
<tr class="odd">
<td align="left">Positiver Vorhersagewert</td>
<td align="left">RP/P*</td>
<td align="left">Präzision, Relevanz</td>
</tr>
<tr class="even">
<td align="left">Negativer Vorhersagewert</td>
<td align="left">RN/N*</td>
<td align="left">Segreganz</td>
</tr>
<tr class="odd">
<td align="left">Gesamtgenauigkeitsrate</td>
<td align="left">(RP+RN) / (N+P)</td>
<td align="left">Richtigkeit, Korrektklassifikationsrate</td>
</tr>
</tbody>
</table>
<p>Zu beachten ist, dass die Gesamtgenauigkeit einer Klassifikation an sich wenig aussagekräftig ist: Ist eine Krankheit sehr selten, werde ich durch die einfache Strategie “diagnostiziere alle als gesund” insgesamt kaum Fehler machen. Meine Gesamtgenauigkeit wird beeindruckend genau sein - trotzdem lassen Sie sich davon wohl kaum beeindrucken. Besser ist, die Richtig-Positiv- und die Richtig-Negativ-Raten getrennt zu beurteilen. Aus dieser Kombination leitet sich der <em>Youden-Index</em> ab.. Er berechnet sich als: <code>RP-Rate + RN-Rate - 1</code>.</p>
<p>Sie können die Konfusionsmatrix mit dem Paket <code>confusion.matrix()</code> aus dem Paket <code>SDMTools</code> berechnen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sensitivity</span>(cm)
<span class="co">#&gt; [1] 0.109</span>
<span class="kw">specificity</span>(cm)
<span class="co">#&gt; [1] 0.985</span></code></pre></div>
<p>Wir haben die Aktienkäufer (<span class="math inline">\(1\)</span>) also nur schlecht identifiziert; die Nichtkäufer (<span class="math inline">\(0\)</span>) haben wir hingegen fast alle gefunden.</p>
<p>Wir könnten jetzt sagen, dass wir im Zweifel lieber eine Person als Käufer einschätzen (um ja keinen Kunden zu verlieren). Dazu würden wir den Schwellenwert (threshold) von 50% auf z.B. 30%$ herabsetzen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(cm &lt;-<span class="st"> </span><span class="kw">confusion.matrix</span>(Aktien$Aktienkauf, glm1$fitted.values, <span class="dt">threshold =</span> .<span class="dv">3</span>))
<span class="co">#&gt;     obs</span>
<span class="co">#&gt; pred   0   1</span>
<span class="co">#&gt;    0 440 128</span>
<span class="co">#&gt;    1  77  55</span>
<span class="co">#&gt; attr(,&quot;class&quot;)</span>
<span class="co">#&gt; [1] &quot;confusion.matrix&quot;</span>
<span class="kw">sensitivity</span>(cm)
<span class="co">#&gt; [1] 0.301</span>
<span class="kw">specificity</span>(cm)
<span class="co">#&gt; [1] 0.851</span></code></pre></div>
</div>
<div id="roc-kurven" class="section level3">
<h3><span class="header-section-number">12.9.3</span> ROC-Kurven</h3>
<p>Siehe da! Die Sensitivität ist gestiegen, wir haben mehr Käufer als solche identifiziert. Unsere liberalere Strategie hat aber mehr falsch-positive Fälle produziert. So können wir jetzt viele verschiedene Schwellenwerte vergleichen.</p>
<blockquote>
<p>Ein Test ist dann gut, wenn wir für alle möglichen Schwellenwert ingesamt wenig Fehler produziert.</p>
</blockquote>
<p>Hierzu wird der Cutpoint zwischen 0 und 1 variiert und die Richtig-Positiv-Rate (Sensitivität) gegen die Falsch-Positiv-Rate (<span class="math inline">\(1-\)</span>Spezifität) abgetragen. Das Paket <code>pROC</code> hilft uns hier weiter. Zuerst berechnen wir für viele verschiedene Schwellenwerte jeweils die beiden Fehler (Falsch-Positiv-Rate und Falsch-Negativ-Rate). Trägt man diese in ein Daigramm ab, so bekommt man Abbildung <a href="klassifizierende-regression.html#fig:roc-stats">12.6</a>, eine sog. <em>ROC-Kurve</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lets_roc &lt;-<span class="st"> </span><span class="kw">roc</span>(Aktien$Aktienkauf, glm1$fitted.values)</code></pre></div>
<p>Da die Sensitivität determiniert ist, wenn die Falsch-Positiv-Rate bekannt ist (1 - FP-Rate), kann man statt Sensitivität auch die FP-Rate abbilden. Für die Spezifität und die Falsch-Negativ-Rate gilt das gleiche. In Abbildung <a href="klassifizierende-regression.html#fig:roc-stats">12.6</a> steht auf der X-Achse Spezifität, aber die Achse ist ‘rückwärts’ (absteigend) skaliert, so dass die X-Achse identisch ist mit FP-Rate (normal skaliert; d.h. aufsteigend).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(lets_roc)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:roc-stats"></span>
<img src="072_klassifizierende_Regression_files/figure-html/roc-stats-1.png" alt="Eine ROC-Kurve" width="70%" />
<p class="caption">
Abbildung 12.6: Eine ROC-Kurve
</p>
</div>
<p>Die ‘Fläche unter der Kurve’ (area under curve, AUC) is damit ein Maß für die Güte des Tests. Abbildung <a href="klassifizierende-regression.html#fig:example-rocs">12.7</a> stellt drei Beispiele von Klassifikationsgüten dar: sehr gute (A), gute (B) und schlechte (C). Ein hohe Klassifikationsgüte zeigt sich daran, dass eine hohe Richtig-Positiv-Rate mit einer kleinen Fehlalarmquote einher geht: Wir finden alle Kranken, aber nur die Kranken. Die AUC-Kurve “hängt oben links an der Decke”. Ein schlechter Klassifikator trifft so gut wie ein Münzwurf: Ist das Ereignis selten, hat er eine hohe Falsch-Positiv-Rate und eine geringe Falsch-Negativ-Rate. Ist das Ereignis hingegen häufig, liegen die Fehlerhöhen genau umgekehrt: Eine hohe Richtig-Positiv-Rate wird mit einer hoher Falsch-Positiv-Rate einher.</p>
<div class="figure" style="text-align: center"><span id="fig:example-rocs"></span>
<img src="072_klassifizierende_Regression_files/figure-html/example-rocs-1.png" alt="Beispiel für eine sehr gute (A), gute (B) und schlechte (C) Klassifikation" width="70%" />
<p class="caption">
Abbildung 12.7: Beispiel für eine sehr gute (A), gute (B) und schlechte (C) Klassifikation
</p>
</div>
<p>Fragt sich noch, wie man den besten Schwellenwert herausfindet. Den besten Schwellenwert kann man als besten Youden-Index-Wert verstehen. Im Paket <code>pROC</code> gibt es dafür den Befehl <code>coords</code>, der uns im ROC-Diagramm die Koordinaten des besten Schwellenwert und den Wert dieses besten Schwellenwerts liefert:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">coords</span>(lets_roc, <span class="st">&quot;best&quot;</span>)
<span class="co">#&gt;   threshold specificity sensitivity </span>
<span class="co">#&gt;       0.229       0.603       0.623</span></code></pre></div>
</div>
</div>
<div id="befehlsubersicht-7" class="section level2">
<h2><span class="header-section-number">12.10</span> Befehlsübersicht</h2>
<p>Tabelle <a href="#tab:befehle-logist-regression"><strong>??</strong></a> stellt die Befehle dieses Kapitels dar.</p>
<table style="width:85%;">
<caption>Befehle des Kapitels ‘Logistische Regression’</caption>
<colgroup>
<col width="40%" />
<col width="44%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Paket..Funktion</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ggplot2::geom_abline</td>
<td align="left">Fügt das Geom “abline” (normale Gerade) zu einem ggplot2-Plot hinzu</td>
</tr>
<tr class="even">
<td align="left">glm</td>
<td align="left">Berechnet ein “generalisiertes lineares Modell”, z.B. eine logistische Regression</td>
</tr>
<tr class="odd">
<td align="left">exp</td>
<td align="left">Berechnet die e-Funktion für den angegeben Ausdruck (synonym: “delogarithmiert” den Ausdruck)</td>
</tr>
<tr class="even">
<td align="left">SDMTools::confusion.matrix</td>
<td align="left">Berechnet eine Konfusionsmatrix</td>
</tr>
<tr class="odd">
<td align="left">SDMTools::sensitivity</td>
<td align="left">Berechnet die Sensitivität eines Klassifikationsmodells</td>
</tr>
<tr class="even">
<td align="left">SDMTools::specificity</td>
<td align="left">Berechnet die Spezifität eines Klassifikationsmodells</td>
</tr>
<tr class="odd">
<td align="left">ROCR::performance</td>
<td align="left">Erstellt Objekte mit Gütekennzahlen von Klassifikationsmodellen</td>
</tr>
<tr class="even">
<td align="left">lmtest::lrtest</td>
<td align="left">Berechnet den Likelihood-Ratio-Test</td>
</tr>
<tr class="odd">
<td align="left">BaylorEdPsych::PseudoR2</td>
<td align="left">Berechnet Pseudo-R-Quadrat-Werte</td>
</tr>
</tbody>
</table>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lineare-regression.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="fallstudien-zum-geleiteten-modellieren.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": true,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
